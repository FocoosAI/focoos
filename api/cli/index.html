
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://focoosai.github.io/focoos/api/cli/">
      
      
        <link rel="prev" href="../config/">
      
      
      
      <link rel="icon" href="../../assets/favicon.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>cli - Focoos AI SDK</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../assets/stylesheets/custom.css">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500&family=DM+Mono&display=swap">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-RP4PM5PGLN"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-RP4PM5PGLN",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-RP4PM5PGLN",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#focoos.cli.cli" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Focoos AI SDK" class="md-header__button md-logo" aria-label="Focoos AI SDK" data-md-component="logo">
      
  <img src="../../assets/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Focoos AI SDK
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              cli
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/FocoosAI/focoos" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../.." class="md-tabs__link">
          
  
  
  Focoos AI

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../hub/" class="md-tabs__link">
          
  
  
  HUB

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../models/" class="md-tabs__link">
          
  
  
  Models

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../model_manager/" class="md-tabs__link">
          
  
  
  API Reference

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Focoos AI SDK" class="md-nav__button md-logo" aria-label="Focoos AI SDK" data-md-component="logo">
      
  <img src="../../assets/logo.svg" alt="logo">

    </a>
    Focoos AI SDK
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/FocoosAI/focoos" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Focoos AI
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Focoos AI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Welcome
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Concepts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../inference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Inference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../training/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Training
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CLI
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    HUB
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            HUB
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../hub/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../hub/hub/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HUB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../hub/remote_inference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Remote Inference
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Models
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Models
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/fai_detr/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    fai-detr
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/fai_mf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    fai-mf
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/bisenetformer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    bisenetformer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/rtmo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    rtmo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/fai_cls/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    fai-cls
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../model_manager/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ModelManager
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    FocoosModel
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            FocoosModel
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../focoos_model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FocoosModel
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../base_model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    BaseModelNN
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../model_registry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ModelRegistry
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    InferModel
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            InferModel
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infer_model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    InferModel
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../runtimes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    runtimes
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../processor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Processor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hub/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FocoosHUB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_7" >
        
          
          <label class="md-nav__link" for="__nav_4_7" id="__nav_4_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Trainer
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_7">
            <span class="md-nav__icon md-icon"></span>
            Trainer
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../trainer_evaluation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    evaluation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../trainer_hooks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    hooks
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../auto_dataset/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AutoDataset
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ports/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ports
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    config
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    cli
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    cli
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#focoos.cli.cli" class="md-nav__link">
    <span class="md-ellipsis">
      cli
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#focoos.cli.cli.benchmark" class="md-nav__link">
    <span class="md-ellipsis">
      benchmark
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#focoos.cli.cli.checks" class="md-nav__link">
    <span class="md-ellipsis">
      checks
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#focoos.cli.cli.export" class="md-nav__link">
    <span class="md-ellipsis">
      export
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#focoos.cli.cli.gradio" class="md-nav__link">
    <span class="md-ellipsis">
      gradio
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#focoos.cli.cli.predict" class="md-nav__link">
    <span class="md-ellipsis">
      predict
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#focoos.cli.cli.settings" class="md-nav__link">
    <span class="md-ellipsis">
      settings
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#focoos.cli.cli.train" class="md-nav__link">
    <span class="md-ellipsis">
      train
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#focoos.cli.cli.val" class="md-nav__link">
    <span class="md-ellipsis">
      val
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#focoos.cli.cli.version" class="md-nav__link">
    <span class="md-ellipsis">
      version
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#focoos.cli.commands.hub" class="md-nav__link">
    <span class="md-ellipsis">
      hub
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#focoos.cli.commands.hub.datasets" class="md-nav__link">
    <span class="md-ellipsis">
      datasets
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#focoos.cli.commands.hub.download" class="md-nav__link">
    <span class="md-ellipsis">
      download
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#focoos.cli.commands.hub.main" class="md-nav__link">
    <span class="md-ellipsis">
      main
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#focoos.cli.commands.hub.models" class="md-nav__link">
    <span class="md-ellipsis">
      models
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#focoos.cli.commands.hub.upload" class="md-nav__link">
    <span class="md-ellipsis">
      upload
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#focoos.cli.cli" class="md-nav__link">
    <span class="md-ellipsis">
      cli
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#focoos.cli.cli.benchmark" class="md-nav__link">
    <span class="md-ellipsis">
      benchmark
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#focoos.cli.cli.checks" class="md-nav__link">
    <span class="md-ellipsis">
      checks
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#focoos.cli.cli.export" class="md-nav__link">
    <span class="md-ellipsis">
      export
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#focoos.cli.cli.gradio" class="md-nav__link">
    <span class="md-ellipsis">
      gradio
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#focoos.cli.cli.predict" class="md-nav__link">
    <span class="md-ellipsis">
      predict
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#focoos.cli.cli.settings" class="md-nav__link">
    <span class="md-ellipsis">
      settings
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#focoos.cli.cli.train" class="md-nav__link">
    <span class="md-ellipsis">
      train
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#focoos.cli.cli.val" class="md-nav__link">
    <span class="md-ellipsis">
      val
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#focoos.cli.cli.version" class="md-nav__link">
    <span class="md-ellipsis">
      version
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#focoos.cli.commands.hub" class="md-nav__link">
    <span class="md-ellipsis">
      hub
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#focoos.cli.commands.hub.datasets" class="md-nav__link">
    <span class="md-ellipsis">
      datasets
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#focoos.cli.commands.hub.download" class="md-nav__link">
    <span class="md-ellipsis">
      download
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#focoos.cli.commands.hub.main" class="md-nav__link">
    <span class="md-ellipsis">
      main
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#focoos.cli.commands.hub.models" class="md-nav__link">
    <span class="md-ellipsis">
      models
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#focoos.cli.commands.hub.upload" class="md-nav__link">
    <span class="md-ellipsis">
      upload
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>cli</h1>

<div class="doc doc-object doc-module">



<a id="focoos.cli.cli"></a>
    <div class="doc doc-contents first">

        <p>Focoos Command Line Interface.</p>
<p>The Focoos CLI provides both Typer-style commands and a streamlined interface for computer vision tasks.</p>
<p>This module contains the main CLI application with commands for training, validation, prediction,
export, benchmarking, and system utilities.</p>


<details class="usage" open>
  <summary>Usage</summary>
  <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>COMMAND<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
</code></pre></div></td></tr></table></div>
</details>

<details class="available-commands" open>
  <summary>Available Commands</summary>
  <ul>
<li><code>train</code>: Train a model on a dataset</li>
<li><code>val</code>: Validate a model on a dataset</li>
<li><code>predict</code>: Run inference on images</li>
<li><code>export</code>: Export a model to different formats</li>
<li><code>benchmark</code>: Benchmark model performance</li>
<li><code>version</code>: Show Focoos version information</li>
<li><code>checks</code>: Run system checks and display system information</li>
<li><code>settings</code>: Show current Focoos configuration settings</li>
<li><code>hub</code>: Focoos Hub commands</li>
</ul>
</details>

<p><span class="doc-section-title">Examples:</span></p>
    <p>Training a model:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>train<span class="w"> </span>--model<span class="w"> </span>fai-detr-m-coco<span class="w"> </span>--dataset<span class="w"> </span>mydataset.zip<span class="w"> </span>--im-size<span class="w"> </span><span class="m">640</span>
</code></pre></div></td></tr></table></div></p>
<p>Running inference:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>predict<span class="w"> </span>--model<span class="w"> </span>fai-detr-m-coco<span class="w"> </span>--source<span class="w"> </span>image.jpg<span class="w"> </span>--im-size<span class="w"> </span><span class="m">640</span>
</code></pre></div></td></tr></table></div></p>
<p>Validating a model:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>val<span class="w"> </span>--model<span class="w"> </span>fai-detr-m-coco<span class="w"> </span>--dataset<span class="w"> </span>mydataset.zip<span class="w"> </span>--im-size<span class="w"> </span><span class="m">640</span>
</code></pre></div></td></tr></table></div></p>
<p>Exporting a model:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span><span class="nb">export</span><span class="w"> </span>--model<span class="w"> </span>fai-detr-m-coco<span class="w"> </span>--format<span class="w"> </span>onnx<span class="w"> </span>--im-size<span class="w"> </span><span class="m">640</span>
</code></pre></div></td></tr></table></div></p>
<p>Benchmarking performance:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>benchmark<span class="w"> </span>--model<span class="w"> </span>fai-detr-m-coco<span class="w"> </span>--iterations<span class="w"> </span><span class="m">100</span><span class="w"> </span>--device<span class="w"> </span>cuda
</code></pre></div></td></tr></table></div></p>
<p>System information:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>checks
focoos<span class="w"> </span>settings
focoos<span class="w"> </span>version
</code></pre></div></td></tr></table></div></p>
<p>Focoos Hub commands:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>hub
focoos<span class="w"> </span>hub<span class="w"> </span>models
focoos<span class="w"> </span>hub<span class="w"> </span>datasets
focoos<span class="w"> </span>hub<span class="w"> </span>dataset<span class="w"> </span>download<span class="w"> </span>--ref<span class="w"> </span>my-dataset<span class="w"> </span>--path<span class="w"> </span>./data
focoos<span class="w"> </span>hub<span class="w"> </span>dataset<span class="w"> </span>upload<span class="w"> </span>--ref<span class="w"> </span>my-dataset<span class="w"> </span>--path<span class="w"> </span>./data.zip
</code></pre></div></td></tr></table></div></p>


<details class="note" open>
  <summary>Note</summary>
  <p>For command-specific help, use: <code>focoos COMMAND --help</code></p>
</details>

<details class="see-also" open>
  <summary>See Also</summary>
  <ul>
<li><a href="../../training/">Training Guide</a></li>
<li><a href="../../inference/">Inference Guide</a></li>
<li><a href="../../hub/hub/">Focoos Hub</a></li>
</ul>
</details>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h2 id="focoos.cli.cli.benchmark" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">benchmark</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">im_size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">iterations</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">device</span><span class="o">=</span><span class="s1">&#39;cuda&#39;</span><span class="p">)</span></code>

<a href="#focoos.cli.cli.benchmark" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">

        <p>Benchmark model performance with detailed metrics.</p>
<p>This command performs comprehensive performance benchmarking of a model,
measuring inference speed, memory usage, and throughput across multiple
iterations. Provides detailed statistics including mean, median, and
percentile measurements for performance analysis.</p>


<details class="benchmark-metrics" open>
  <summary>Benchmark Metrics</summary>
  <ul>
<li><strong>Inference Time</strong>: Per-image processing time (ms)</li>
<li><strong>Throughput</strong>: Frames per second (FPS)</li>
<li><strong>Memory Usage</strong>: Peak GPU/CPU memory consumption</li>
<li><strong>Latency Statistics</strong>: P50, P95, P99 percentiles</li>
<li><strong>Model Loading Time</strong>: Initialization overhead</li>
<li><strong>Warmup Performance</strong>: Cold vs. warm inference speeds</li>
</ul>
</details>

<details class="performance-factors" open>
  <summary>Performance Factors</summary>
  <ul>
<li><strong>Image Size</strong>: Larger images → slower inference</li>
<li><strong>Model Complexity</strong>: More parameters → higher latency</li>
<li><strong>Device Type</strong>: GPU vs. CPU performance differences</li>
<li><strong>Batch Size</strong>: Single vs. batch inference comparison</li>
<li><strong>Runtime Backend</strong>: ONNX vs. PyTorch performance</li>
</ul>
</details>

<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>model</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the model or path to model file for benchmarking.
Can be specified in several ways:
- <strong>Pretrained model</strong>: Simple model name like 'fai-detr-m-coco'
- <strong>Hub model</strong>: Format 'hub://<model-ref>' for models from Focoos Hub
- <strong>Local model</strong>: Model name with --models-dir pointing to custom directory
- <strong>Default directory model</strong>: Model name for models in default Focoos directory</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>im_size</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Input image size for benchmarking. If not specified,
uses the model's default input size. Larger sizes typically
result in slower inference but may improve accuracy.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>iterations</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of benchmark iterations to run. If not specified,
uses a default number of iterations suitable for reliable statistics.
More iterations provide more accurate timing measurements.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>device</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Device to use for benchmarking ('cuda' or 'cpu'). Defaults to 'cuda'.
GPU benchmarking typically shows better performance but requires CUDA availability.</p>
              </div>
            </td>
            <td>
                  <code>&#39;cuda&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Basic benchmarking with pretrained model:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>benchmark<span class="w"> </span>--model<span class="w"> </span>fai-detr-m-coco
</code></pre></div></td></tr></table></div></p>
<p>Benchmark model from Focoos Hub:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>benchmark<span class="w"> </span>--model<span class="w"> </span>hub://&lt;model-ref&gt;<span class="w"> </span>--iterations<span class="w"> </span><span class="m">100</span>
</code></pre></div></td></tr></table></div></p>
<p>Benchmark local model from custom directory:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>benchmark<span class="w"> </span>--model<span class="w"> </span>my-model<span class="w"> </span>--models-dir<span class="w"> </span>./custom_models<span class="w"> </span>--im-size<span class="w"> </span><span class="m">640</span>
</code></pre></div></td></tr></table></div></p>
<p>Benchmark local model from default Focoos directory:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>benchmark<span class="w"> </span>--model<span class="w"> </span>my-exported-model<span class="w"> </span>--iterations<span class="w"> </span><span class="m">200</span>
</code></pre></div></td></tr></table></div></p>
<p>Benchmark with specific parameters:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>benchmark<span class="w"> </span>--model<span class="w"> </span>fai-detr-m-coco<span class="w"> </span>--im-size<span class="w"> </span><span class="m">800</span><span class="w"> </span>--iterations<span class="w"> </span><span class="m">100</span>
</code></pre></div></td></tr></table></div></p>
<p>CPU benchmarking:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>benchmark<span class="w"> </span>--model<span class="w"> </span>fai-detr-m-coco<span class="w"> </span>--device<span class="w"> </span>cpu<span class="w"> </span>--iterations<span class="w"> </span><span class="m">50</span>
</code></pre></div></td></tr></table></div></p>
<p>Comprehensive benchmark suite:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># Test different image sizes</span>
focoos<span class="w"> </span>benchmark<span class="w"> </span>--model<span class="w"> </span>fai-detr-m-coco<span class="w"> </span>--im-size<span class="w"> </span><span class="m">416</span>
focoos<span class="w"> </span>benchmark<span class="w"> </span>--model<span class="w"> </span>fai-detr-m-coco<span class="w"> </span>--im-size<span class="w"> </span><span class="m">640</span>
focoos<span class="w"> </span>benchmark<span class="w"> </span>--model<span class="w"> </span>fai-detr-m-coco<span class="w"> </span>--im-size<span class="w"> </span><span class="m">800</span>
</code></pre></div></td></tr></table></div></p>


<details class="output" open>
  <summary>Output</summary>
  <p>The command prints benchmark results to the console:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span></pre></div></td><td class="code"><div><pre><span></span><code>Benchmark Results:
==================
Model: fai-detr-m-coco
Device: CUDA (GeForce RTX 3080)
Image Size: 640x640
Iterations: 100

Performance Metrics:
- Average Inference Time: 12.5ms
- Throughput (FPS): 80.0
- P50 Latency: 11.8ms
- P95 Latency: 15.2ms
- P99 Latency: 18.1ms
- Peak GPU Memory: 2.1GB
- Model Loading Time: 1.2s
</code></pre></div></td></tr></table></div>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="AssertionError">AssertionError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If device parameter is not valid.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="FileNotFoundError">FileNotFoundError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If model file is not found.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="RuntimeError">RuntimeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If device is unavailable or out of memory.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ImportError">ImportError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If required runtime dependencies are missing.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="note" open>
  <summary>Note</summary>
  <p>Benchmark results can vary based on system load, thermal throttling,
and hardware specifications. For consistent results, ensure the system
is not under heavy load during benchmarking. Results are automatically
saved to a benchmark report file for later analysis.</p>
</details>

<details class="see-also" open>
  <summary>See Also</summary>
  <ul>
<li><a class="autorefs autorefs-internal" title="predict(source, model='fai-detr-l-obj365', runtime=None, im_size=640, conf=0.5, output_dir=PREDICTIONS_DIR, save=True, save_json=True, save_masks=True)" href="#focoos.cli.cli.predict"><code>focoos predict</code></a>: For actual inference</li>
<li><a class="autorefs autorefs-internal" title="export(model, format=ExportFormat.ONNX, output_dir=None, device='cuda', onnx_opset=17, im_size=640, overwrite=False)" href="#focoos.cli.cli.export"><code>focoos export</code></a>: For optimized model formats</li>
</ul>
</details>

            <details class="quote">
              <summary>Source code in <code>focoos/cli/cli.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="s2">&quot;benchmark&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">benchmark</span><span class="p">(</span>
    <span class="n">model</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Model name or path (required)&quot;</span><span class="p">)],</span>
    <span class="n">im_size</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Image size for benchmarking&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">iterations</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Number of benchmark iterations&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">device</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Device for benchmarking (cuda or cpu)&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="s2">&quot;cuda&quot;</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Benchmark model performance with detailed metrics.</span>

<span class="sd">    This command performs comprehensive performance benchmarking of a model,</span>
<span class="sd">    measuring inference speed, memory usage, and throughput across multiple</span>
<span class="sd">    iterations. Provides detailed statistics including mean, median, and</span>
<span class="sd">    percentile measurements for performance analysis.</span>

<span class="sd">    Benchmark Metrics:</span>
<span class="sd">        - **Inference Time**: Per-image processing time (ms)</span>
<span class="sd">        - **Throughput**: Frames per second (FPS)</span>
<span class="sd">        - **Memory Usage**: Peak GPU/CPU memory consumption</span>
<span class="sd">        - **Latency Statistics**: P50, P95, P99 percentiles</span>
<span class="sd">        - **Model Loading Time**: Initialization overhead</span>
<span class="sd">        - **Warmup Performance**: Cold vs. warm inference speeds</span>

<span class="sd">    Performance Factors:</span>
<span class="sd">        - **Image Size**: Larger images → slower inference</span>
<span class="sd">        - **Model Complexity**: More parameters → higher latency</span>
<span class="sd">        - **Device Type**: GPU vs. CPU performance differences</span>
<span class="sd">        - **Batch Size**: Single vs. batch inference comparison</span>
<span class="sd">        - **Runtime Backend**: ONNX vs. PyTorch performance</span>

<span class="sd">    Args:</span>
<span class="sd">        model (str): Name of the model or path to model file for benchmarking.</span>
<span class="sd">            Can be specified in several ways:</span>
<span class="sd">            - **Pretrained model**: Simple model name like &#39;fai-detr-m-coco&#39;</span>
<span class="sd">            - **Hub model**: Format &#39;hub://&lt;model-ref&gt;&#39; for models from Focoos Hub</span>
<span class="sd">            - **Local model**: Model name with --models-dir pointing to custom directory</span>
<span class="sd">            - **Default directory model**: Model name for models in default Focoos directory</span>
<span class="sd">        im_size (Optional[int]): Input image size for benchmarking. If not specified,</span>
<span class="sd">            uses the model&#39;s default input size. Larger sizes typically</span>
<span class="sd">            result in slower inference but may improve accuracy.</span>
<span class="sd">        iterations (Optional[int]): Number of benchmark iterations to run. If not specified,</span>
<span class="sd">            uses a default number of iterations suitable for reliable statistics.</span>
<span class="sd">            More iterations provide more accurate timing measurements.</span>
<span class="sd">        device (str): Device to use for benchmarking (&#39;cuda&#39; or &#39;cpu&#39;). Defaults to &#39;cuda&#39;.</span>
<span class="sd">            GPU benchmarking typically shows better performance but requires CUDA availability.</span>

<span class="sd">    Examples:</span>
<span class="sd">        Basic benchmarking with pretrained model:</span>
<span class="sd">        ```bash</span>
<span class="sd">        focoos benchmark --model fai-detr-m-coco</span>
<span class="sd">        ```</span>

<span class="sd">        Benchmark model from Focoos Hub:</span>
<span class="sd">        ```bash</span>
<span class="sd">        focoos benchmark --model hub://&lt;model-ref&gt; --iterations 100</span>
<span class="sd">        ```</span>

<span class="sd">        Benchmark local model from custom directory:</span>
<span class="sd">        ```bash</span>
<span class="sd">        focoos benchmark --model my-model --models-dir ./custom_models --im-size 640</span>
<span class="sd">        ```</span>

<span class="sd">        Benchmark local model from default Focoos directory:</span>
<span class="sd">        ```bash</span>
<span class="sd">        focoos benchmark --model my-exported-model --iterations 200</span>
<span class="sd">        ```</span>

<span class="sd">        Benchmark with specific parameters:</span>
<span class="sd">        ```bash</span>
<span class="sd">        focoos benchmark --model fai-detr-m-coco --im-size 800 --iterations 100</span>
<span class="sd">        ```</span>

<span class="sd">        CPU benchmarking:</span>
<span class="sd">        ```bash</span>
<span class="sd">        focoos benchmark --model fai-detr-m-coco --device cpu --iterations 50</span>
<span class="sd">        ```</span>

<span class="sd">        Comprehensive benchmark suite:</span>
<span class="sd">        ```bash</span>
<span class="sd">        # Test different image sizes</span>
<span class="sd">        focoos benchmark --model fai-detr-m-coco --im-size 416</span>
<span class="sd">        focoos benchmark --model fai-detr-m-coco --im-size 640</span>
<span class="sd">        focoos benchmark --model fai-detr-m-coco --im-size 800</span>
<span class="sd">        ```</span>

<span class="sd">    Output:</span>
<span class="sd">        The command prints benchmark results to the console:</span>

<span class="sd">        ```</span>
<span class="sd">        Benchmark Results:</span>
<span class="sd">        ==================</span>
<span class="sd">        Model: fai-detr-m-coco</span>
<span class="sd">        Device: CUDA (GeForce RTX 3080)</span>
<span class="sd">        Image Size: 640x640</span>
<span class="sd">        Iterations: 100</span>

<span class="sd">        Performance Metrics:</span>
<span class="sd">        - Average Inference Time: 12.5ms</span>
<span class="sd">        - Throughput (FPS): 80.0</span>
<span class="sd">        - P50 Latency: 11.8ms</span>
<span class="sd">        - P95 Latency: 15.2ms</span>
<span class="sd">        - P99 Latency: 18.1ms</span>
<span class="sd">        - Peak GPU Memory: 2.1GB</span>
<span class="sd">        - Model Loading Time: 1.2s</span>
<span class="sd">        ```</span>

<span class="sd">    Raises:</span>
<span class="sd">        AssertionError: If device parameter is not valid.</span>
<span class="sd">        FileNotFoundError: If model file is not found.</span>
<span class="sd">        RuntimeError: If device is unavailable or out of memory.</span>
<span class="sd">        ImportError: If required runtime dependencies are missing.</span>

<span class="sd">    Note:</span>
<span class="sd">        Benchmark results can vary based on system load, thermal throttling,</span>
<span class="sd">        and hardware specifications. For consistent results, ensure the system</span>
<span class="sd">        is not under heavy load during benchmarking. Results are automatically</span>
<span class="sd">        saved to a benchmark report file for later analysis.</span>

<span class="sd">    See Also:</span>
<span class="sd">        - [`focoos predict`][focoos.cli.cli.predict]: For actual inference</span>
<span class="sd">        - [`focoos export`][focoos.cli.cli.export]: For optimized model formats</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📦 Starting benchmark - Model: </span><span class="si">{</span><span class="n">model</span><span class="si">}</span><span class="s2">, Iterations: </span><span class="si">{</span><span class="n">iterations</span><span class="si">}</span><span class="s2">, Size: </span><span class="si">{</span><span class="n">im_size</span><span class="si">}</span><span class="s2">, Device: </span><span class="si">{</span><span class="n">device</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">validated_device</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">DeviceType</span><span class="p">,</span> <span class="n">device</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">get_args</span><span class="p">(</span><span class="n">DeviceType</span><span class="p">)</span>
        <span class="n">benchmark_command</span><span class="p">(</span>
            <span class="n">model_name</span><span class="o">=</span><span class="n">model</span><span class="p">,</span>
            <span class="n">iterations</span><span class="o">=</span><span class="n">iterations</span><span class="p">,</span>
            <span class="n">im_size</span><span class="o">=</span><span class="n">im_size</span><span class="p">,</span>
            <span class="n">device</span><span class="o">=</span><span class="n">validated_device</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Benchmark failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="focoos.cli.cli.checks" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">checks</span><span class="p">()</span></code>

<a href="#focoos.cli.cli.checks" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">

        <p>Run system checks and display system information.</p>
<p>This command performs comprehensive system checks including hardware
information, GPU availability, dependencies, and other system-level
diagnostics relevant to Focoos operation.</p>


<details class="the-system-checks-include" open>
  <summary>The system checks include</summary>
  <ul>
<li>Hardware information (CPU, memory, GPU)</li>
<li>CUDA availability and version</li>
<li>Python environment details</li>
<li>Focoos dependencies status</li>
<li>System compatibility verification</li>
</ul>
</details>

<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>checks
</code></pre></div></td></tr></table></div>
<p>Output:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code>Running system checks...

System Information:
==================
OS: Linux 5.4.0-74-generic
Python: 3.8.10
CUDA: 11.2.2
GPU: NVIDIA GeForce RTX 3080
Memory: 32GB
</code></pre></div></td></tr></table></div></p>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typer.Exit">Exit</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If system checks fail or encounter errors.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="see-also" open>
  <summary>See Also</summary>
  <ul>
<li><a class="autorefs autorefs-internal" title="version()" href="#focoos.cli.cli.version"><code>focoos version</code></a>: For version info only</li>
<li><a class="autorefs autorefs-internal" title="settings()" href="#focoos.cli.cli.settings"><code>focoos settings</code></a>: For configuration details</li>
</ul>
</details>

            <details class="quote">
              <summary>Source code in <code>focoos/cli/cli.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="s2">&quot;checks&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">checks</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Run system checks and display system information.</span>

<span class="sd">    This command performs comprehensive system checks including hardware</span>
<span class="sd">    information, GPU availability, dependencies, and other system-level</span>
<span class="sd">    diagnostics relevant to Focoos operation.</span>

<span class="sd">    The system checks include:</span>
<span class="sd">        - Hardware information (CPU, memory, GPU)</span>
<span class="sd">        - CUDA availability and version</span>
<span class="sd">        - Python environment details</span>
<span class="sd">        - Focoos dependencies status</span>
<span class="sd">        - System compatibility verification</span>

<span class="sd">    Examples:</span>
<span class="sd">        ```bash</span>
<span class="sd">        focoos checks</span>
<span class="sd">        ```</span>

<span class="sd">        Output:</span>
<span class="sd">        ```</span>
<span class="sd">        Running system checks...</span>

<span class="sd">        System Information:</span>
<span class="sd">        ==================</span>
<span class="sd">        OS: Linux 5.4.0-74-generic</span>
<span class="sd">        Python: 3.8.10</span>
<span class="sd">        CUDA: 11.2.2</span>
<span class="sd">        GPU: NVIDIA GeForce RTX 3080</span>
<span class="sd">        Memory: 32GB</span>
<span class="sd">        ```</span>

<span class="sd">    Raises:</span>
<span class="sd">        typer.Exit: If system checks fail or encounter errors.</span>

<span class="sd">    See Also:</span>
<span class="sd">        - [`focoos version`][focoos.cli.cli.version]: For version info only</span>
<span class="sd">        - [`focoos settings`][focoos.cli.cli.settings]: For configuration details</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="s2">&quot;Running system checks...&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">focoos.utils.system</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_system_info</span>

        <span class="n">system_info</span> <span class="o">=</span> <span class="n">get_system_info</span><span class="p">()</span>
        <span class="n">system_info</span><span class="o">.</span><span class="n">pprint</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error running checks: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">typer</span><span class="o">.</span><span class="n">Exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="focoos.cli.cli.export" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">export</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="n">ExportFormat</span><span class="o">.</span><span class="n">ONNX</span><span class="p">,</span> <span class="n">output_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">device</span><span class="o">=</span><span class="s1">&#39;cuda&#39;</span><span class="p">,</span> <span class="n">onnx_opset</span><span class="o">=</span><span class="mi">17</span><span class="p">,</span> <span class="n">im_size</span><span class="o">=</span><span class="mi">640</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

<a href="#focoos.cli.cli.export" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">

        <p>Export a trained model to various deployment formats.</p>
<p>This command exports a Focoos model to different formats suitable for
deployment in various environments. Currently supports ONNX and TorchScript
formats for flexible deployment across different platforms and frameworks.</p>


<details class="supported-export-formats" open>
  <summary>Supported Export Formats</summary>
  <ul>
<li><strong>ONNX</strong>: Cross-platform neural network format for interoperability</li>
<li><strong>TorchScript</strong>: PyTorch's native serialization format for production</li>
</ul>
</details>

<details class="platform-compatibility" open>
  <summary>Platform Compatibility</summary>
  <table>
<thead>
<tr>
<th>Format</th>
<th>Linux</th>
<th>Windows</th>
<th>macOS</th>
<th>Mobile</th>
<th>Edge</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>ONNX</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>Universal format</td>
</tr>
<tr>
<td>TorchScript</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>PyTorch native</td>
</tr>
</tbody>
</table>
</details>

<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>model</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the Focoos model to export (e.g., 'fai-detr-m-coco').
Can be specified in several ways:
- <strong>Pretrained model</strong>: Simple model name like 'fai-detr-m-coco'
- <strong>Hub model</strong>: Format 'hub://<model-ref>' for models from Focoos Hub
- <strong>Local model</strong>: Model name or model directory path (e.g., 'my-model' or '/path/to/my-model')
- <strong>Default directory model</strong>: Model name for models in default Focoos directory</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>format</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="ExportFormat (focoos.ports.ExportFormat)" href="../ports/#focoos.ports.ExportFormat">ExportFormat</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Target export format. Defaults to ONNX.
Available formats: 'onnx', 'torchscript'.</p>
              </div>
            </td>
            <td>
                  <code><span title="focoos.ports.ExportFormat.ONNX">ONNX</span></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>output_dir</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Directory to save the exported model files.
If not specified, uses a default export directory.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>device</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Device to use for export process ('cuda' or 'cpu').
Defaults to 'cuda'.</p>
              </div>
            </td>
            <td>
                  <code>&#39;cuda&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>onnx_opset</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>ONNX opset version for ONNX exports. Defaults to 17.
Higher versions support more operations but may have compatibility issues.
Only applies to ONNX format exports.</p>
              </div>
            </td>
            <td>
                  <code>17</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>im_size</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Input image size for the exported model. Defaults to 640.
This determines the input tensor shape for the exported model.</p>
              </div>
            </td>
            <td>
                  <code>640</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>overwrite</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="bool">bool</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to overwrite existing exported files.
Defaults to False. If False, export will fail if output files already exist.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Basic ONNX export with pretrained model:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span><span class="nb">export</span><span class="w"> </span>--model<span class="w"> </span>fai-detr-m-coco
</code></pre></div></td></tr></table></div></p>
<p>Export model from Focoos Hub:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span><span class="nb">export</span><span class="w"> </span>--model<span class="w"> </span>hub://&lt;model-ref&gt;<span class="w"> </span>--format<span class="w"> </span>onnx
</code></pre></div></td></tr></table></div></p>
<p>Export local model from custom directory:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span><span class="nb">export</span><span class="w"> </span>--model<span class="w"> </span>my-fine-tuned-model<span class="w"> </span>--models-dir<span class="w"> </span>./trained_models
</code></pre></div></td></tr></table></div></p>
<p>Export local model from default Focoos directory:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span><span class="nb">export</span><span class="w"> </span>--model<span class="w"> </span>my-checkpoint-model<span class="w"> </span>--format<span class="w"> </span>torchscript
</code></pre></div></td></tr></table></div></p>
<p>Export to TorchScript:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span><span class="nb">export</span><span class="w"> </span>--model<span class="w"> </span>fai-detr-m-coco<span class="w"> </span>--format<span class="w"> </span>torchscript
</code></pre></div></td></tr></table></div></p>
<p>Export with custom image size:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span><span class="nb">export</span><span class="w"> </span>--model<span class="w"> </span>fai-detr-m-coco<span class="w"> </span>--format<span class="w"> </span>onnx<span class="w"> </span>--im-size<span class="w"> </span><span class="m">800</span>
</code></pre></div></td></tr></table></div></p>
<p>Export to custom directory with overwrite:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span><span class="nb">export</span><span class="w"> </span>--model<span class="w"> </span>fai-detr-m-coco<span class="w"> </span>--format<span class="w"> </span>onnx<span class="w">                       </span>--output-dir<span class="w"> </span>./exported_models<span class="w"> </span>--overwrite
</code></pre></div></td></tr></table></div></p>
<p>CPU-based export:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span><span class="nb">export</span><span class="w"> </span>--model<span class="w"> </span>fai-detr-m-coco<span class="w"> </span>--format<span class="w"> </span>torchscript<span class="w">                       </span>--device<span class="w"> </span>cpu<span class="w"> </span>--im-size<span class="w"> </span><span class="m">416</span>
</code></pre></div></td></tr></table></div></p>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="AssertionError">AssertionError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If device parameter is not valid.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If export format is not supported.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="RuntimeError">RuntimeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If export process fails due to model incompatibility.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="FileExistsError">FileExistsError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If output files exist and overwrite is disabled.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="note" open>
  <summary>Note</summary>
  <p>ONNX format provides broader compatibility across different frameworks and
deployment environments. TorchScript format is optimized for PyTorch-based
deployment scenarios and may offer better performance in PyTorch environments.</p>
</details>

<details class="see-also" open>
  <summary>See Also</summary>
  <ul>
<li><a class="autorefs autorefs-internal" title="predict(source, model='fai-detr-l-obj365', runtime=None, im_size=640, conf=0.5, output_dir=PREDICTIONS_DIR, save=True, save_json=True, save_masks=True)" href="#focoos.cli.cli.predict"><code>focoos predict</code></a>: For using exported models</li>
<li><a class="autorefs autorefs-internal" title="benchmark(model, im_size=None, iterations=None, device='cuda')" href="#focoos.cli.cli.benchmark"><code>focoos benchmark</code></a>: For testing exported models</li>
</ul>
</details>

            <details class="quote">
              <summary>Source code in <code>focoos/cli/cli.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span>
<span class="normal">910</span>
<span class="normal">911</span>
<span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span>
<span class="normal">931</span>
<span class="normal">932</span>
<span class="normal">933</span>
<span class="normal">934</span>
<span class="normal">935</span>
<span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span>
<span class="normal">950</span>
<span class="normal">951</span>
<span class="normal">952</span>
<span class="normal">953</span>
<span class="normal">954</span>
<span class="normal">955</span>
<span class="normal">956</span>
<span class="normal">957</span>
<span class="normal">958</span>
<span class="normal">959</span>
<span class="normal">960</span>
<span class="normal">961</span>
<span class="normal">962</span>
<span class="normal">963</span>
<span class="normal">964</span>
<span class="normal">965</span>
<span class="normal">966</span>
<span class="normal">967</span>
<span class="normal">968</span>
<span class="normal">969</span>
<span class="normal">970</span>
<span class="normal">971</span>
<span class="normal">972</span>
<span class="normal">973</span>
<span class="normal">974</span>
<span class="normal">975</span>
<span class="normal">976</span>
<span class="normal">977</span>
<span class="normal">978</span>
<span class="normal">979</span>
<span class="normal">980</span>
<span class="normal">981</span>
<span class="normal">982</span>
<span class="normal">983</span>
<span class="normal">984</span>
<span class="normal">985</span>
<span class="normal">986</span>
<span class="normal">987</span>
<span class="normal">988</span>
<span class="normal">989</span>
<span class="normal">990</span>
<span class="normal">991</span>
<span class="normal">992</span>
<span class="normal">993</span>
<span class="normal">994</span>
<span class="normal">995</span>
<span class="normal">996</span>
<span class="normal">997</span>
<span class="normal">998</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="s2">&quot;export&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">export</span><span class="p">(</span>
    <span class="n">model</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Model name (required)&quot;</span><span class="p">)],</span>
    <span class="nb">format</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">ExportFormat</span><span class="p">],</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Export format&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="n">ExportFormat</span><span class="o">.</span><span class="n">ONNX</span><span class="p">,</span>
    <span class="n">output_dir</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Output directory&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">device</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Device (cuda or cpu)&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="s2">&quot;cuda&quot;</span><span class="p">,</span>
    <span class="n">onnx_opset</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;ONNX opset version&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">17</span><span class="p">,</span>
    <span class="n">im_size</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Image size for export&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">640</span><span class="p">,</span>
    <span class="n">overwrite</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">],</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Overwrite existing files&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Export a trained model to various deployment formats.</span>

<span class="sd">    This command exports a Focoos model to different formats suitable for</span>
<span class="sd">    deployment in various environments. Currently supports ONNX and TorchScript</span>
<span class="sd">    formats for flexible deployment across different platforms and frameworks.</span>

<span class="sd">    Supported Export Formats:</span>
<span class="sd">        - **ONNX**: Cross-platform neural network format for interoperability</span>
<span class="sd">        - **TorchScript**: PyTorch&#39;s native serialization format for production</span>

<span class="sd">    Platform Compatibility:</span>
<span class="sd">        | Format | Linux | Windows | macOS | Mobile | Edge | Description |</span>
<span class="sd">        |--------|-------|---------|-------|--------|------|-------------|</span>
<span class="sd">        | ONNX   | ✅    | ✅      | ✅    | ✅     | ✅   | Universal format |</span>
<span class="sd">        | TorchScript | ✅ | ✅     | ✅    | ✅     | ✅   | PyTorch native |</span>

<span class="sd">    Args:</span>
<span class="sd">        model (str): Name of the Focoos model to export (e.g., &#39;fai-detr-m-coco&#39;).</span>
<span class="sd">            Can be specified in several ways:</span>
<span class="sd">            - **Pretrained model**: Simple model name like &#39;fai-detr-m-coco&#39;</span>
<span class="sd">            - **Hub model**: Format &#39;hub://&lt;model-ref&gt;&#39; for models from Focoos Hub</span>
<span class="sd">            - **Local model**: Model name or model directory path (e.g., &#39;my-model&#39; or &#39;/path/to/my-model&#39;)</span>
<span class="sd">            - **Default directory model**: Model name for models in default Focoos directory</span>
<span class="sd">        format (Optional[ExportFormat]): Target export format. Defaults to ONNX.</span>
<span class="sd">            Available formats: &#39;onnx&#39;, &#39;torchscript&#39;.</span>
<span class="sd">        output_dir (Optional[str]): Directory to save the exported model files.</span>
<span class="sd">            If not specified, uses a default export directory.</span>
<span class="sd">        device (Optional[str]): Device to use for export process (&#39;cuda&#39; or &#39;cpu&#39;).</span>
<span class="sd">            Defaults to &#39;cuda&#39;.</span>
<span class="sd">        onnx_opset (Optional[int]): ONNX opset version for ONNX exports. Defaults to 17.</span>
<span class="sd">            Higher versions support more operations but may have compatibility issues.</span>
<span class="sd">            Only applies to ONNX format exports.</span>
<span class="sd">        im_size (Optional[int]): Input image size for the exported model. Defaults to 640.</span>
<span class="sd">            This determines the input tensor shape for the exported model.</span>
<span class="sd">        overwrite (Optional[bool]): Whether to overwrite existing exported files.</span>
<span class="sd">            Defaults to False. If False, export will fail if output files already exist.</span>

<span class="sd">    Examples:</span>
<span class="sd">        Basic ONNX export with pretrained model:</span>
<span class="sd">        ```bash</span>
<span class="sd">        focoos export --model fai-detr-m-coco</span>
<span class="sd">        ```</span>

<span class="sd">        Export model from Focoos Hub:</span>
<span class="sd">        ```bash</span>
<span class="sd">        focoos export --model hub://&lt;model-ref&gt; --format onnx</span>
<span class="sd">        ```</span>

<span class="sd">        Export local model from custom directory:</span>
<span class="sd">        ```bash</span>
<span class="sd">        focoos export --model my-fine-tuned-model --models-dir ./trained_models</span>
<span class="sd">        ```</span>

<span class="sd">        Export local model from default Focoos directory:</span>
<span class="sd">        ```bash</span>
<span class="sd">        focoos export --model my-checkpoint-model --format torchscript</span>
<span class="sd">        ```</span>

<span class="sd">        Export to TorchScript:</span>
<span class="sd">        ```bash</span>
<span class="sd">        focoos export --model fai-detr-m-coco --format torchscript</span>
<span class="sd">        ```</span>

<span class="sd">        Export with custom image size:</span>
<span class="sd">        ```bash</span>
<span class="sd">        focoos export --model fai-detr-m-coco --format onnx --im-size 800</span>
<span class="sd">        ```</span>

<span class="sd">        Export to custom directory with overwrite:</span>
<span class="sd">        ```bash</span>
<span class="sd">        focoos export --model fai-detr-m-coco --format onnx \</span>
<span class="sd">                      --output-dir ./exported_models --overwrite</span>
<span class="sd">        ```</span>

<span class="sd">        CPU-based export:</span>
<span class="sd">        ```bash</span>
<span class="sd">        focoos export --model fai-detr-m-coco --format torchscript \</span>
<span class="sd">                      --device cpu --im-size 416</span>
<span class="sd">        ```</span>

<span class="sd">    Raises:</span>
<span class="sd">        AssertionError: If device parameter is not valid.</span>
<span class="sd">        ValueError: If export format is not supported.</span>
<span class="sd">        RuntimeError: If export process fails due to model incompatibility.</span>
<span class="sd">        FileExistsError: If output files exist and overwrite is disabled.</span>

<span class="sd">    Note:</span>
<span class="sd">        ONNX format provides broader compatibility across different frameworks and</span>
<span class="sd">        deployment environments. TorchScript format is optimized for PyTorch-based</span>
<span class="sd">        deployment scenarios and may offer better performance in PyTorch environments.</span>

<span class="sd">    See Also:</span>
<span class="sd">        - [`focoos predict`][focoos.cli.cli.predict]: For using exported models</span>
<span class="sd">        - [`focoos benchmark`][focoos.cli.cli.benchmark]: For testing exported models</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;📦 Starting export - Model: </span><span class="si">{</span><span class="n">model</span><span class="si">}</span><span class="s2">, Format: </span><span class="si">{</span><span class="nb">format</span><span class="si">}</span><span class="s2">, Output dir: </span><span class="si">{</span><span class="n">output_dir</span><span class="si">}</span><span class="s2">, Device: </span><span class="si">{</span><span class="n">device</span><span class="si">}</span><span class="s2">, ONNX opset: </span><span class="si">{</span><span class="n">onnx_opset</span><span class="si">}</span><span class="s2">, Image size: </span><span class="si">{</span><span class="n">im_size</span><span class="si">}</span><span class="s2">, Overwrite: </span><span class="si">{</span><span class="n">overwrite</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">validated_device</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">DeviceType</span><span class="p">,</span> <span class="n">device</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">get_args</span><span class="p">(</span><span class="n">DeviceType</span><span class="p">)</span>
        <span class="n">export_command</span><span class="p">(</span>
            <span class="n">model_name</span><span class="o">=</span><span class="n">model</span><span class="p">,</span>
            <span class="nb">format</span><span class="o">=</span><span class="nb">format</span><span class="p">,</span>
            <span class="n">output_dir</span><span class="o">=</span><span class="n">output_dir</span><span class="p">,</span>
            <span class="n">device</span><span class="o">=</span><span class="n">validated_device</span><span class="p">,</span>
            <span class="n">onnx_opset</span><span class="o">=</span><span class="n">onnx_opset</span><span class="p">,</span>
            <span class="n">im_size</span><span class="o">=</span><span class="n">im_size</span><span class="p">,</span>
            <span class="n">overwrite</span><span class="o">=</span><span class="n">overwrite</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Export failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="focoos.cli.cli.gradio" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">gradio</span><span class="p">()</span></code>

<a href="#focoos.cli.cli.gradio" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">

        <p>Launch the Focoos Gradio app.</p>


            <details class="quote">
              <summary>Source code in <code>focoos/cli/cli.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="s2">&quot;gradio&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">gradio</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Launch the Focoos Gradio app.&quot;&quot;&quot;</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">focoos.cli.gradio_app</span><span class="w"> </span><span class="kn">import</span> <span class="n">launch_gradio</span>

    <span class="n">launch_gradio</span><span class="p">(</span><span class="n">share</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="focoos.cli.cli.predict" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">predict</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="s1">&#39;fai-detr-l-obj365&#39;</span><span class="p">,</span> <span class="n">runtime</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">im_size</span><span class="o">=</span><span class="mi">640</span><span class="p">,</span> <span class="n">conf</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">output_dir</span><span class="o">=</span><span class="n">PREDICTIONS_DIR</span><span class="p">,</span> <span class="n">save</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">save_json</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">save_masks</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

<a href="#focoos.cli.cli.predict" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">

        <p>Run inference on images with flexible output options.</p>
<p>This command performs inference (prediction) on input images using a trained model.
Supports various output formats including annotated images, JSON results, and mask files.
Results are always printed to the console.</p>


<details class="supported-input" open>
  <summary>Supported Input</summary>
  <ul>
<li><strong>Single Images</strong>: Local image files (loaded via <code>image_loader()</code>)</li>
<li><strong>URLs</strong>: Remote image files accessible via URL</li>
</ul>
</details>

<details class="output-options" open>
  <summary>Output Options</summary>
  <ul>
<li><strong>Console Output</strong>: Detection results printed to terminal (always enabled)</li>
<li><strong>Annotated Images</strong>: Visual results with bounding boxes and labels (if <code>save=True</code>)</li>
<li><strong>JSON Files</strong>: Machine-readable detection results with coordinates and confidence (if <code>save_json=True</code>)</li>
<li><strong>Mask Images</strong>: Individual mask files as PNG images (if <code>save_masks=True</code> and model produces masks)</li>
</ul>
</details>

<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>model</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the model or path to model file for inference.
Can be specified in several ways:
- <strong>Pretrained model</strong>: Simple model name like 'fai-detr-m-coco'
- <strong>Hub model</strong>: Format 'hub://<model-ref>' for models from Focoos Hub
- <strong>Default directory model</strong>: Model name for models in default Focoos directory</p>
              </div>
            </td>
            <td>
                  <code>&#39;fai-detr-l-obj365&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>source</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to input image file or URL. Must be a single image file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>runtime</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="RuntimeType (focoos.ports.RuntimeType)" href="../ports/#focoos.ports.RuntimeType">RuntimeType</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Runtime backend for inference. Defaults to ONNX_CUDA32.
Options include ONNX_CUDA32, ONNX_CPU, PYTORCH, etc.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>im_size</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Input image size for inference. Defaults to 640.
Images will be resized to this size while maintaining aspect ratio.</p>
              </div>
            </td>
            <td>
                  <code>640</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>conf</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Confidence threshold for detections. Defaults to 0.25.
Only detections above this threshold will be reported.</p>
              </div>
            </td>
            <td>
                  <code>0.5</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>save</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="bool">bool</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to save annotated images with detection overlays.
Defaults to True.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>output_dir</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Directory to save all inference results.</p>
              </div>
            </td>
            <td>
                  <code><span title="focoos.ports.PREDICTIONS_DIR">PREDICTIONS_DIR</span></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>save_json</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="bool">bool</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to save detection results in JSON format.
Defaults to True.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>save_masks</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="bool">bool</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to save segmentation masks as separate PNG images.
Defaults to True. Only applies if the model produces masks.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Basic image inference with pretrained model:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>predict<span class="w"> </span>--model<span class="w"> </span>fai-detr-m-coco<span class="w"> </span>--source<span class="w"> </span>image.jpg
</code></pre></div></td></tr></table></div></p>
<p>Inference with model from Focoos Hub:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>predict<span class="w"> </span>--model<span class="w"> </span>hub://&lt;model-ref&gt;<span class="w"> </span>--source<span class="w"> </span>image.jpg
</code></pre></div></td></tr></table></div></p>
<p>Inference with local model in default Focoos directory:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>predict<span class="w"> </span>--model<span class="w"> </span>my-trained-model<span class="w"> </span>--source<span class="w"> </span>image.jpg
</code></pre></div></td></tr></table></div></p>
<p>Image inference with custom confidence:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>predict<span class="w"> </span>--model<span class="w"> </span>fai-detr-m-coco<span class="w"> </span>--source<span class="w"> </span>image.jpg<span class="w"> </span>--conf<span class="w"> </span><span class="m">0</span>.5
</code></pre></div></td></tr></table></div></p>
<p>Inference with custom output directory:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>predict<span class="w"> </span>--model<span class="w"> </span>fai-detr-m-coco<span class="w"> </span>--source<span class="w"> </span>image.jpg<span class="w">                        </span>--output-dir<span class="w"> </span>./my_results<span class="w"> </span>--runtime<span class="w"> </span>ONNX_CPU
</code></pre></div></td></tr></table></div></p>
<p>URL inference:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>predict<span class="w"> </span>--model<span class="w"> </span>fai-detr-m-coco<span class="w">                        </span>--source<span class="w"> </span>https://example.com/image.jpg
</code></pre></div></td></tr></table></div></p>
<p>Only console output (no file saving):
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>predict<span class="w"> </span>--model<span class="w"> </span>fai-detr-m-coco<span class="w"> </span>--source<span class="w"> </span>image.jpg<span class="w">                        </span>--save<span class="w"> </span><span class="nb">false</span><span class="w"> </span>--save-json<span class="w"> </span><span class="nb">false</span><span class="w"> </span>--save-masks<span class="w"> </span><span class="nb">false</span>
</code></pre></div></td></tr></table></div></p>


<details class="output" open>
  <summary>Output</summary>
  <p>The command prints detection results to the console and optionally saves files:</p>
<p>Console output example:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span></pre></div></td><td class="code"><div><pre><span></span><code>==================================================
DETECTION RESULTS
==================================================
Found 2 detections:

  1. person
     Confidence: 0.856
     Bbox: [245, 120, 380, 450]
     Size: 135 x 330

  2. car
     Confidence: 0.742
     Bbox: [50, 200, 200, 300]
     Size: 150 x 100
==================================================
</code></pre></div></td></tr></table></div></p>
<p>File outputs (if enabled):
- <code>{source_name}_annotated.{ext}</code>: Annotated image with bounding boxes
- <code>{source_name}_detections.json</code>: Structured detection data
- <code>{source_name}_masks/mask_N.png</code>: Individual mask files (if applicable)</p>
</details>

<details class="note" open>
  <summary>Note</summary>
  <p>The function currently processes single images only. For batch processing,
the command needs to be run multiple times. All detection results are
always printed to the console regardless of save options.</p>
</details>

<details class="see-also" open>
  <summary>See Also</summary>
  <ul>
<li><a class="autorefs autorefs-internal" title="val(model, dataset, datasets_dir=None, run_name=None, dataset_layout=DatasetLayout.ROBOFLOW_COCO, im_size=640, output_dir=None, ckpt_dir=None, init_checkpoint=None, resume=False, num_gpus=get_gpus_count(), device='cuda', workers=4, amp_enabled=True, ddp_broadcast_buffers=False, ddp_find_unused=True, checkpointer_period=1000, checkpointer_max_to_keep=1, eval_period=50, log_period=20, samples=9, seed=42, early_stop=True, patience=10, ema_enabled=False, ema_decay=0.999, ema_warmup=2000, learning_rate=0.0005, weight_decay=0.02, max_iters=3000, batch_size=16, scheduler='MULTISTEP', optimizer='ADAMW', weight_decay_norm=0.0, weight_decay_embed=0.0, backbone_multiplier=0.1, decoder_multiplier=1.0, head_multiplier=1.0, freeze_bn=False, clip_gradients=0.1, size_divisibility=0, gather_metric_period=1, zero_grad_before_forward=False)" href="#focoos.cli.cli.val"><code>focoos val</code></a>: For model validation</li>
<li><a class="autorefs autorefs-internal" title="benchmark(model, im_size=None, iterations=None, device='cuda')" href="#focoos.cli.cli.benchmark"><code>focoos benchmark</code></a>: For performance testing</li>
<li><a href="../../inference/">Inference Guide</a>: For detailed inference documentation</li>
</ul>
</details>

            <details class="quote">
              <summary>Source code in <code>focoos/cli/cli.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="s2">&quot;predict&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">predict</span><span class="p">(</span>
    <span class="n">source</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Image path or URL (required)&quot;</span><span class="p">)],</span>
    <span class="n">model</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Model name or path (required)&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="s2">&quot;fai-detr-l-obj365&quot;</span><span class="p">,</span>
    <span class="n">runtime</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span>
        <span class="n">Optional</span><span class="p">[</span><span class="n">RuntimeType</span><span class="p">],</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Runtime type (If not provided, torch will be used)&quot;</span><span class="p">)</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">im_size</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Image size&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">640</span><span class="p">,</span>
    <span class="n">conf</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Confidence threshold&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">,</span>
    <span class="n">output_dir</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span>
        <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Directory to save results (default: ~/FocoosAI/predictions/)&quot;</span><span class="p">)</span>
    <span class="p">]</span> <span class="o">=</span> <span class="n">PREDICTIONS_DIR</span><span class="p">,</span>
    <span class="n">save</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">],</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Save annotated image results&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">save_json</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">],</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Save detections as JSON&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">save_masks</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">],</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Save masks as separate images&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Run inference on images with flexible output options.</span>

<span class="sd">    This command performs inference (prediction) on input images using a trained model.</span>
<span class="sd">    Supports various output formats including annotated images, JSON results, and mask files.</span>
<span class="sd">    Results are always printed to the console.</span>

<span class="sd">    Supported Input:</span>
<span class="sd">        - **Single Images**: Local image files (loaded via `image_loader()`)</span>
<span class="sd">        - **URLs**: Remote image files accessible via URL</span>

<span class="sd">    Output Options:</span>
<span class="sd">        - **Console Output**: Detection results printed to terminal (always enabled)</span>
<span class="sd">        - **Annotated Images**: Visual results with bounding boxes and labels (if `save=True`)</span>
<span class="sd">        - **JSON Files**: Machine-readable detection results with coordinates and confidence (if `save_json=True`)</span>
<span class="sd">        - **Mask Images**: Individual mask files as PNG images (if `save_masks=True` and model produces masks)</span>

<span class="sd">    Args:</span>
<span class="sd">        model (str): Name of the model or path to model file for inference.</span>
<span class="sd">            Can be specified in several ways:</span>
<span class="sd">            - **Pretrained model**: Simple model name like &#39;fai-detr-m-coco&#39;</span>
<span class="sd">            - **Hub model**: Format &#39;hub://&lt;model-ref&gt;&#39; for models from Focoos Hub</span>
<span class="sd">            - **Default directory model**: Model name for models in default Focoos directory</span>
<span class="sd">        source (str): Path to input image file or URL. Must be a single image file.</span>
<span class="sd">        runtime (RuntimeType): Runtime backend for inference. Defaults to ONNX_CUDA32.</span>
<span class="sd">            Options include ONNX_CUDA32, ONNX_CPU, PYTORCH, etc.</span>
<span class="sd">        im_size (Optional[int]): Input image size for inference. Defaults to 640.</span>
<span class="sd">            Images will be resized to this size while maintaining aspect ratio.</span>
<span class="sd">        conf (Optional[float]): Confidence threshold for detections. Defaults to 0.25.</span>
<span class="sd">            Only detections above this threshold will be reported.</span>
<span class="sd">        save (Optional[bool]): Whether to save annotated images with detection overlays.</span>
<span class="sd">            Defaults to True.</span>
<span class="sd">        output_dir (Optional[str]): Directory to save all inference results.</span>
<span class="sd">        save_json (Optional[bool]): Whether to save detection results in JSON format.</span>
<span class="sd">            Defaults to True.</span>
<span class="sd">        save_masks (Optional[bool]): Whether to save segmentation masks as separate PNG images.</span>
<span class="sd">            Defaults to True. Only applies if the model produces masks.</span>

<span class="sd">    Examples:</span>
<span class="sd">        Basic image inference with pretrained model:</span>
<span class="sd">        ```bash</span>
<span class="sd">        focoos predict --model fai-detr-m-coco --source image.jpg</span>
<span class="sd">        ```</span>

<span class="sd">        Inference with model from Focoos Hub:</span>
<span class="sd">        ```bash</span>
<span class="sd">        focoos predict --model hub://&lt;model-ref&gt; --source image.jpg</span>
<span class="sd">        ```</span>

<span class="sd">        Inference with local model in default Focoos directory:</span>
<span class="sd">        ```bash</span>
<span class="sd">        focoos predict --model my-trained-model --source image.jpg</span>
<span class="sd">        ```</span>

<span class="sd">        Image inference with custom confidence:</span>
<span class="sd">        ```bash</span>
<span class="sd">        focoos predict --model fai-detr-m-coco --source image.jpg --conf 0.5</span>
<span class="sd">        ```</span>

<span class="sd">        Inference with custom output directory:</span>
<span class="sd">        ```bash</span>
<span class="sd">        focoos predict --model fai-detr-m-coco --source image.jpg \</span>
<span class="sd">                       --output-dir ./my_results --runtime ONNX_CPU</span>
<span class="sd">        ```</span>

<span class="sd">        URL inference:</span>
<span class="sd">        ```bash</span>
<span class="sd">        focoos predict --model fai-detr-m-coco \</span>
<span class="sd">                       --source https://example.com/image.jpg</span>
<span class="sd">        ```</span>

<span class="sd">        Only console output (no file saving):</span>
<span class="sd">        ```bash</span>
<span class="sd">        focoos predict --model fai-detr-m-coco --source image.jpg \</span>
<span class="sd">                       --save false --save-json false --save-masks false</span>
<span class="sd">        ```</span>

<span class="sd">    Output:</span>
<span class="sd">        The command prints detection results to the console and optionally saves files:</span>

<span class="sd">        Console output example:</span>
<span class="sd">        ```</span>
<span class="sd">        ==================================================</span>
<span class="sd">        DETECTION RESULTS</span>
<span class="sd">        ==================================================</span>
<span class="sd">        Found 2 detections:</span>

<span class="sd">          1. person</span>
<span class="sd">             Confidence: 0.856</span>
<span class="sd">             Bbox: [245, 120, 380, 450]</span>
<span class="sd">             Size: 135 x 330</span>

<span class="sd">          2. car</span>
<span class="sd">             Confidence: 0.742</span>
<span class="sd">             Bbox: [50, 200, 200, 300]</span>
<span class="sd">             Size: 150 x 100</span>
<span class="sd">        ==================================================</span>
<span class="sd">        ```</span>

<span class="sd">        File outputs (if enabled):</span>
<span class="sd">        - `{source_name}_annotated.{ext}`: Annotated image with bounding boxes</span>
<span class="sd">        - `{source_name}_detections.json`: Structured detection data</span>
<span class="sd">        - `{source_name}_masks/mask_N.png`: Individual mask files (if applicable)</span>

<span class="sd">    Note:</span>
<span class="sd">        The function currently processes single images only. For batch processing,</span>
<span class="sd">        the command needs to be run multiple times. All detection results are</span>
<span class="sd">        always printed to the console regardless of save options.</span>

<span class="sd">    See Also:</span>
<span class="sd">        - [`focoos val`][focoos.cli.cli.val]: For model validation</span>
<span class="sd">        - [`focoos benchmark`][focoos.cli.cli.benchmark]: For performance testing</span>
<span class="sd">        - [Inference Guide](../inference.md): For detailed inference documentation</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;🔮 Starting predict - Model: </span><span class="si">{</span><span class="n">model</span><span class="si">}</span><span class="s2">, Source: </span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2">, Runtime: </span><span class="si">{</span><span class="n">runtime</span><span class="si">}</span><span class="s2">, Image size: </span><span class="si">{</span><span class="n">im_size</span><span class="si">}</span><span class="s2">, Conf: </span><span class="si">{</span><span class="n">conf</span><span class="si">}</span><span class="s2">, Save: </span><span class="si">{</span><span class="n">save</span><span class="si">}</span><span class="s2">, Output dir: </span><span class="si">{</span><span class="n">output_dir</span><span class="si">}</span><span class="s2">, Save json: </span><span class="si">{</span><span class="n">save_json</span><span class="si">}</span><span class="s2">, Save masks: </span><span class="si">{</span><span class="n">save_masks</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">predict_command</span><span class="p">(</span>
            <span class="n">model_name</span><span class="o">=</span><span class="n">model</span><span class="p">,</span>
            <span class="n">source</span><span class="o">=</span><span class="n">source</span><span class="p">,</span>
            <span class="n">runtime</span><span class="o">=</span><span class="n">runtime</span><span class="p">,</span>
            <span class="n">im_size</span><span class="o">=</span><span class="n">im_size</span><span class="p">,</span>
            <span class="n">conf</span><span class="o">=</span><span class="n">conf</span><span class="p">,</span>
            <span class="n">save</span><span class="o">=</span><span class="n">save</span><span class="p">,</span>
            <span class="n">output_dir</span><span class="o">=</span><span class="n">output_dir</span><span class="p">,</span>
            <span class="n">save_json</span><span class="o">=</span><span class="n">save_json</span><span class="p">,</span>
            <span class="n">save_masks</span><span class="o">=</span><span class="n">save_masks</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Predict failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="focoos.cli.cli.settings" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">settings</span><span class="p">()</span></code>

<a href="#focoos.cli.cli.settings" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">

        <p>Show current Focoos configuration settings.</p>
<p>This command displays the current configuration settings for Focoos,
including runtime type, host URL, API key status, log level, and
other configuration parameters.</p>


<details class="configuration-includes" open>
  <summary>Configuration includes</summary>
  <ul>
<li><strong>Runtime Type</strong>: Backend engine for inference</li>
<li><strong>Host URL</strong>: API endpoint for Focoos services</li>
<li><strong>API Key</strong>: Authentication status (masked for security)</li>
<li><strong>Log Level</strong>: Current logging verbosity</li>
<li><strong>Warmup Iterations</strong>: Performance optimization setting</li>
</ul>
</details>

<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>settings
</code></pre></div></td></tr></table></div>
<p>Output:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code>Current Focoos settings:
FOCOOS_RUNTIME_TYPE=ONNX_CUDA32
FOCOOS_HOST_URL=https://api.focoos.ai
FOCOOS_API_KEY=********************
FOCOOS_LOG_LEVEL=INFO
FOCOOS_WARMUP_ITER=3
</code></pre></div></td></tr></table></div></p>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typer.Exit">Exit</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If there's an error accessing configuration settings.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="see-also" open>
  <summary>See Also</summary>
  <ul>
<li><a class="autorefs autorefs-internal" title="checks()" href="#focoos.cli.cli.checks"><code>focoos checks</code></a>: For system diagnostics</li>
</ul>
</details>

            <details class="quote">
              <summary>Source code in <code>focoos/cli/cli.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="s2">&quot;settings&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">settings</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Show current Focoos configuration settings.</span>

<span class="sd">    This command displays the current configuration settings for Focoos,</span>
<span class="sd">    including runtime type, host URL, API key status, log level, and</span>
<span class="sd">    other configuration parameters.</span>

<span class="sd">    Configuration includes:</span>
<span class="sd">        - **Runtime Type**: Backend engine for inference</span>
<span class="sd">        - **Host URL**: API endpoint for Focoos services</span>
<span class="sd">        - **API Key**: Authentication status (masked for security)</span>
<span class="sd">        - **Log Level**: Current logging verbosity</span>
<span class="sd">        - **Warmup Iterations**: Performance optimization setting</span>

<span class="sd">    Examples:</span>
<span class="sd">        ```bash</span>
<span class="sd">        focoos settings</span>
<span class="sd">        ```</span>

<span class="sd">        Output:</span>
<span class="sd">        ```</span>
<span class="sd">        Current Focoos settings:</span>
<span class="sd">        FOCOOS_RUNTIME_TYPE=ONNX_CUDA32</span>
<span class="sd">        FOCOOS_HOST_URL=https://api.focoos.ai</span>
<span class="sd">        FOCOOS_API_KEY=********************</span>
<span class="sd">        FOCOOS_LOG_LEVEL=INFO</span>
<span class="sd">        FOCOOS_WARMUP_ITER=3</span>
<span class="sd">        ```</span>

<span class="sd">    Raises:</span>
<span class="sd">        typer.Exit: If there&#39;s an error accessing configuration settings.</span>

<span class="sd">    See Also:</span>
<span class="sd">        - [`focoos checks`][focoos.cli.cli.checks]: For system diagnostics</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">focoos.config</span><span class="w"> </span><span class="kn">import</span> <span class="n">FOCOOS_CONFIG</span>

        <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="s2">&quot;Current Focoos settings:&quot;</span><span class="p">)</span>
        <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;FOCOOS_RUNTIME_TYPE=</span><span class="si">{</span><span class="n">FOCOOS_CONFIG</span><span class="o">.</span><span class="n">runtime_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;FOCOOS_HOST_URL=</span><span class="si">{</span><span class="n">FOCOOS_CONFIG</span><span class="o">.</span><span class="n">default_host_url</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;FOCOOS_API_KEY=</span><span class="si">{</span><span class="s1">&#39;*&#39;</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">FOCOOS_CONFIG</span><span class="o">.</span><span class="n">focoos_api_key</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;Not set&#39;</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;FOCOOS_LOG_LEVEL=</span><span class="si">{</span><span class="n">FOCOOS_CONFIG</span><span class="o">.</span><span class="n">focoos_log_level</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;FOCOOS_WARMUP_ITER=</span><span class="si">{</span><span class="n">FOCOOS_CONFIG</span><span class="o">.</span><span class="n">warmup_iter</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error showing settings: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">typer</span><span class="o">.</span><span class="n">Exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="focoos.cli.cli.train" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">train</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">dataset</span><span class="p">,</span> <span class="n">run_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">datasets_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dataset_layout</span><span class="o">=</span><span class="n">DatasetLayout</span><span class="o">.</span><span class="n">ROBOFLOW_COCO</span><span class="p">,</span> <span class="n">im_size</span><span class="o">=</span><span class="mi">640</span><span class="p">,</span> <span class="n">output_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ckpt_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">init_checkpoint</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resume</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">num_gpus</span><span class="o">=</span><span class="n">get_gpus_count</span><span class="p">(),</span> <span class="n">device</span><span class="o">=</span><span class="s1">&#39;cuda&#39;</span><span class="p">,</span> <span class="n">workers</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">amp_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ddp_broadcast_buffers</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ddp_find_unused</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">checkpointer_period</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">checkpointer_max_to_keep</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">eval_period</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">log_period</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">samples</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">early_stop</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">patience</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">ema_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ema_decay</span><span class="o">=</span><span class="mf">0.999</span><span class="p">,</span> <span class="n">ema_warmup</span><span class="o">=</span><span class="mi">2000</span><span class="p">,</span> <span class="n">learning_rate</span><span class="o">=</span><span class="mf">0.0005</span><span class="p">,</span> <span class="n">weight_decay</span><span class="o">=</span><span class="mf">0.02</span><span class="p">,</span> <span class="n">max_iters</span><span class="o">=</span><span class="mi">3000</span><span class="p">,</span> <span class="n">batch_size</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">scheduler</span><span class="o">=</span><span class="s1">&#39;MULTISTEP&#39;</span><span class="p">,</span> <span class="n">optimizer</span><span class="o">=</span><span class="s1">&#39;ADAMW&#39;</span><span class="p">,</span> <span class="n">weight_decay_norm</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">weight_decay_embed</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">backbone_multiplier</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">decoder_multiplier</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">head_multiplier</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">freeze_bn</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">clip_gradients</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">size_divisibility</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">gather_metric_period</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">zero_grad_before_forward</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">sync_to_hub</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

<a href="#focoos.cli.cli.train" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">

        <p>Train a model with comprehensive configuration options.</p>
<p>This command initiates model training with extensive customization options
for dataset handling, model architecture, optimization, and training dynamics.
Supports distributed training, mixed precision, and various optimization strategies.</p>


<details class="training-features" open>
  <summary>Training Features</summary>
  <ul>
<li><strong>Multi-GPU Training</strong>: Automatic distributed training support</li>
<li><strong>Mixed Precision</strong>: Faster training with AMP (Automatic Mixed Precision)</li>
<li><strong>Early Stopping</strong>: Prevent overfitting with validation-based stopping</li>
<li><strong>EMA (Exponential Moving Average)</strong>: Improved model stability</li>
<li><strong>Flexible Scheduling</strong>: Multiple learning rate schedules</li>
<li><strong>Checkpoint Management</strong>: Automatic saving and resuming</li>
</ul>
</details>

<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>model</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the model architecture to train (e.g., 'fai-detr-m-coco').
Can be specified in several ways:
- <strong>Pretrained model</strong>: Simple model name like 'fai-detr-m-coco'
- <strong>Hub model</strong>: Format 'hub://<model-ref>' for models from Focoos Hub
- <strong>Default directory model</strong>: Model name for models in default Focoos directory</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>dataset</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the dataset to train on (e.g., 'mydataset.zip').</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>run_name</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional name for the training run. If not provided,
generates a unique name using model name and UUID.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>datasets_dir</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Custom directory for datasets.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>dataset_layout</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="DatasetLayout (focoos.ports.DatasetLayout)" href="../ports/#focoos.ports.DatasetLayout">DatasetLayout</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Layout format of the dataset. Defaults to ROBOFLOW_COCO.</p>
              </div>
            </td>
            <td>
                  <code><span title="focoos.ports.DatasetLayout.ROBOFLOW_COCO">ROBOFLOW_COCO</span></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>im_size</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Input image size for training. Defaults to 640.</p>
              </div>
            </td>
            <td>
                  <code>640</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>output_dir</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Directory to save training outputs and logs.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ckpt_dir</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Directory to save model checkpoints.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>init_checkpoint</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to initial checkpoint for transfer learning.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>resume</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to resume training from the latest checkpoint. Defaults to False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>num_gpus</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of GPUs to use for training. Defaults to auto-detected count.</p>
              </div>
            </td>
            <td>
                  <code><span title="focoos.ports.get_gpus_count">get_gpus_count</span>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>device</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Device type for training ('cuda' or 'cpu'). Defaults to 'cuda'.</p>
              </div>
            </td>
            <td>
                  <code>&#39;cuda&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>workers</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of data loading workers. Defaults to 4.</p>
              </div>
            </td>
            <td>
                  <code>4</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>amp_enabled</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Enable Automatic Mixed Precision for faster training. Defaults to True.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ddp_broadcast_buffers</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to broadcast buffers in DistributedDataParallel.
Defaults to False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ddp_find_unused</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to find unused parameters in DDP. Defaults to True.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>checkpointer_period</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Frequency of checkpoint saving (in iterations). Defaults to 1000.</p>
              </div>
            </td>
            <td>
                  <code>1000</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>checkpointer_max_to_keep</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Maximum number of checkpoints to retain. Defaults to 1.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>eval_period</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Frequency of model evaluation (in iterations). Defaults to 50.</p>
              </div>
            </td>
            <td>
                  <code>50</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>log_period</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Frequency of logging metrics (in iterations). Defaults to 20.</p>
              </div>
            </td>
            <td>
                  <code>20</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>samples</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of sample images to log during training. Defaults to 9.</p>
              </div>
            </td>
            <td>
                  <code>9</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>seed</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Random seed for reproducible training. Defaults to 42.</p>
              </div>
            </td>
            <td>
                  <code>42</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>early_stop</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Enable early stopping based on validation metrics. Defaults to True.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>patience</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of evaluations to wait before early stopping. Defaults to 10.</p>
              </div>
            </td>
            <td>
                  <code>10</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ema_enabled</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Enable Exponential Moving Average of model weights. Defaults to False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ema_decay</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Decay rate for EMA. Defaults to 0.999.</p>
              </div>
            </td>
            <td>
                  <code>0.999</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ema_warmup</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of warmup steps for EMA. Defaults to 2000.</p>
              </div>
            </td>
            <td>
                  <code>2000</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>learning_rate</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Initial learning rate for optimization. Defaults to 5e-4.</p>
              </div>
            </td>
            <td>
                  <code>0.0005</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>weight_decay</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>L2 regularization weight decay. Defaults to 0.02.</p>
              </div>
            </td>
            <td>
                  <code>0.02</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>max_iters</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Maximum number of training iterations. Defaults to 3000.</p>
              </div>
            </td>
            <td>
                  <code>3000</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>batch_size</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Training batch size. Defaults to 16.</p>
              </div>
            </td>
            <td>
                  <code>16</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>scheduler</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Learning rate scheduler type ('MULTISTEP', 'COSINE', etc.).
Defaults to 'MULTISTEP'.</p>
              </div>
            </td>
            <td>
                  <code>&#39;MULTISTEP&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>optimizer</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optimizer type ('ADAMW', 'SGD', etc.). Defaults to 'ADAMW'.</p>
              </div>
            </td>
            <td>
                  <code>&#39;ADAMW&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>weight_decay_norm</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Weight decay for normalization layers. Defaults to 0.0.</p>
              </div>
            </td>
            <td>
                  <code>0.0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>weight_decay_embed</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Weight decay for embedding layers. Defaults to 0.0.</p>
              </div>
            </td>
            <td>
                  <code>0.0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>backbone_multiplier</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Learning rate multiplier for backbone layers. Defaults to 0.1.</p>
              </div>
            </td>
            <td>
                  <code>0.1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>decoder_multiplier</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Learning rate multiplier for decoder layers. Defaults to 1.0.</p>
              </div>
            </td>
            <td>
                  <code>1.0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>head_multiplier</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Learning rate multiplier for head layers. Defaults to 1.0.</p>
              </div>
            </td>
            <td>
                  <code>1.0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>freeze_bn</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to freeze batch normalization layers. Defaults to False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>clip_gradients</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Gradient clipping threshold. Defaults to 0.1.</p>
              </div>
            </td>
            <td>
                  <code>0.1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>size_divisibility</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Image size divisibility constraint. Defaults to 0.</p>
              </div>
            </td>
            <td>
                  <code>0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>gather_metric_period</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Frequency of metric gathering (in iterations). Defaults to 1.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>zero_grad_before_forward</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to zero gradients before forward pass.
Defaults to False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>sync_to_hub</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to sync model to Focoos Hub. Defaults to False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Basic training with pretrained model:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>train<span class="w"> </span>--model<span class="w"> </span>fai-detr-m-coco<span class="w"> </span>--dataset<span class="w"> </span>mydataset.zip
</code></pre></div></td></tr></table></div></p>
<p>Training with model from Focoos Hub:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>train<span class="w"> </span>--model<span class="w"> </span>hub://&lt;model-ref&gt;<span class="w"> </span>--dataset<span class="w"> </span>mydataset.zip
</code></pre></div></td></tr></table></div></p>
<p>Training with local model in default Focoos directory:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>train<span class="w"> </span>--model<span class="w"> </span>my-saved-model<span class="w"> </span>--dataset<span class="w"> </span>mydataset.zip
</code></pre></div></td></tr></table></div></p>
<p>Advanced training with custom parameters:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>train<span class="w"> </span>--model<span class="w"> </span>fai-detr-m-coco<span class="w"> </span>--dataset<span class="w"> </span>mydataset.zip<span class="w">                      </span>--im-size<span class="w"> </span><span class="m">800</span><span class="w"> </span>--batch-size<span class="w"> </span><span class="m">32</span><span class="w"> </span>--learning-rate<span class="w"> </span>1e-4<span class="w">                      </span>--max-iters<span class="w"> </span><span class="m">5000</span><span class="w"> </span>--early-stop<span class="w"> </span>--patience<span class="w"> </span><span class="m">20</span>
</code></pre></div></td></tr></table></div></p>
<p>Multi-GPU training with mixed precision:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>train<span class="w"> </span>--model<span class="w"> </span>fai-detr-m-coco<span class="w"> </span>--dataset<span class="w"> </span>custom_dataset<span class="w">                      </span>--num-gpus<span class="w"> </span><span class="m">4</span><span class="w"> </span>--amp-enabled<span class="w"> </span>--batch-size<span class="w"> </span><span class="m">64</span>
</code></pre></div></td></tr></table></div></p>
<p>Resume training from checkpoint:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>train<span class="w"> </span>--model<span class="w"> </span>fai-detr-m-coco<span class="w"> </span>--dataset<span class="w"> </span>mydataset.zip<span class="w">                      </span>--resume<span class="w"> </span>--ckpt-dir<span class="w"> </span>./checkpoints
</code></pre></div></td></tr></table></div></p>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="AssertionError">AssertionError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If device, scheduler, or optimizer parameters are invalid.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="FileNotFoundError">FileNotFoundError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If dataset or checkpoint files are not found.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="RuntimeError">RuntimeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If GPU resources are insufficient or CUDA is unavailable.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="see-also" open>
  <summary>See Also</summary>
  <ul>
<li><a class="autorefs autorefs-internal" title="val(model, dataset, datasets_dir=None, run_name=None, dataset_layout=DatasetLayout.ROBOFLOW_COCO, im_size=640, output_dir=None, ckpt_dir=None, init_checkpoint=None, resume=False, num_gpus=get_gpus_count(), device='cuda', workers=4, amp_enabled=True, ddp_broadcast_buffers=False, ddp_find_unused=True, checkpointer_period=1000, checkpointer_max_to_keep=1, eval_period=50, log_period=20, samples=9, seed=42, early_stop=True, patience=10, ema_enabled=False, ema_decay=0.999, ema_warmup=2000, learning_rate=0.0005, weight_decay=0.02, max_iters=3000, batch_size=16, scheduler='MULTISTEP', optimizer='ADAMW', weight_decay_norm=0.0, weight_decay_embed=0.0, backbone_multiplier=0.1, decoder_multiplier=1.0, head_multiplier=1.0, freeze_bn=False, clip_gradients=0.1, size_divisibility=0, gather_metric_period=1, zero_grad_before_forward=False)" href="#focoos.cli.cli.val"><code>focoos val</code></a>: For model validation</li>
<li><a class="autorefs autorefs-internal" title="export(model, format=ExportFormat.ONNX, output_dir=None, device='cuda', onnx_opset=17, im_size=640, overwrite=False)" href="#focoos.cli.cli.export"><code>focoos export</code></a>: For model export</li>
<li><a href="../../training/">Training Guide</a>: For detailed training documentation</li>
</ul>
</details>

            <details class="quote">
              <summary>Source code in <code>focoos/cli/cli.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="s2">&quot;train&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">train</span><span class="p">(</span>
    <span class="n">model</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Model name (required)&quot;</span><span class="p">)],</span>
    <span class="n">dataset</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Dataset name (required)&quot;</span><span class="p">)],</span>
    <span class="n">run_name</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Run name&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">datasets_dir</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span>
        <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Datasets directory (default: ~/FocoosAI/datasets/)&quot;</span><span class="p">)</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">dataset_layout</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">DatasetLayout</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Dataset layout&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="n">DatasetLayout</span><span class="o">.</span><span class="n">ROBOFLOW_COCO</span><span class="p">,</span>
    <span class="n">im_size</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Image size&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">640</span><span class="p">,</span>
    <span class="n">output_dir</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Output directory&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">ckpt_dir</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Checkpoint directory&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">init_checkpoint</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Initial checkpoint path&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">resume</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Resume training from checkpoint&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">num_gpus</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Number of GPUs to use&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="n">get_gpus_count</span><span class="p">(),</span>
    <span class="n">device</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Device to use&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="s2">&quot;cuda&quot;</span><span class="p">,</span>
    <span class="n">workers</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Number of workers&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
    <span class="n">amp_enabled</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Enable automatic mixed precision&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">ddp_broadcast_buffers</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Broadcast buffers in DDP&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">ddp_find_unused</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Find unused parameters in DDP&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">checkpointer_period</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Checkpoint save period&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">,</span>
    <span class="n">checkpointer_max_to_keep</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Maximum checkpoints to keep&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">eval_period</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Evaluation period&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span>
    <span class="n">log_period</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Logging period&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
    <span class="n">samples</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Number of samples to log&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span>
    <span class="n">seed</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Random seed&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">42</span><span class="p">,</span>
    <span class="n">early_stop</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Enable early stopping&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">patience</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Early stopping patience&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
    <span class="n">ema_enabled</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Enable EMA&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">ema_decay</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;EMA decay rate&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mf">0.999</span><span class="p">,</span>
    <span class="n">ema_warmup</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;EMA warmup steps&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">2000</span><span class="p">,</span>
    <span class="n">learning_rate</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Learning rate&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mf">5e-4</span><span class="p">,</span>
    <span class="n">weight_decay</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Weight decay&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mf">0.02</span><span class="p">,</span>
    <span class="n">max_iters</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Maximum iterations&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">3000</span><span class="p">,</span>
    <span class="n">batch_size</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Batch size&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">16</span><span class="p">,</span>
    <span class="n">scheduler</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Learning rate scheduler&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="s2">&quot;MULTISTEP&quot;</span><span class="p">,</span>
    <span class="n">optimizer</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Optimizer type&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="s2">&quot;ADAMW&quot;</span><span class="p">,</span>
    <span class="n">weight_decay_norm</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Weight decay for normalization layers&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
    <span class="n">weight_decay_embed</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Weight decay for embedding layers&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
    <span class="n">backbone_multiplier</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Learning rate multiplier for backbone&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span>
    <span class="n">decoder_multiplier</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Learning rate multiplier for decoder&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span>
    <span class="n">head_multiplier</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Learning rate multiplier for head&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span>
    <span class="n">freeze_bn</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Freeze batch normalization layers&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">clip_gradients</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Gradient clipping value&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span>
    <span class="n">size_divisibility</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Size divisibility&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">gather_metric_period</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Metric gathering period&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">zero_grad_before_forward</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Zero gradients before forward pass&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">sync_to_hub</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Sync to Focoos Hub&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Train a model with comprehensive configuration options.</span>

<span class="sd">    This command initiates model training with extensive customization options</span>
<span class="sd">    for dataset handling, model architecture, optimization, and training dynamics.</span>
<span class="sd">    Supports distributed training, mixed precision, and various optimization strategies.</span>

<span class="sd">    Training Features:</span>
<span class="sd">        - **Multi-GPU Training**: Automatic distributed training support</span>
<span class="sd">        - **Mixed Precision**: Faster training with AMP (Automatic Mixed Precision)</span>
<span class="sd">        - **Early Stopping**: Prevent overfitting with validation-based stopping</span>
<span class="sd">        - **EMA (Exponential Moving Average)**: Improved model stability</span>
<span class="sd">        - **Flexible Scheduling**: Multiple learning rate schedules</span>
<span class="sd">        - **Checkpoint Management**: Automatic saving and resuming</span>

<span class="sd">    Args:</span>
<span class="sd">        model (str): Name of the model architecture to train (e.g., &#39;fai-detr-m-coco&#39;).</span>
<span class="sd">            Can be specified in several ways:</span>
<span class="sd">            - **Pretrained model**: Simple model name like &#39;fai-detr-m-coco&#39;</span>
<span class="sd">            - **Hub model**: Format &#39;hub://&lt;model-ref&gt;&#39; for models from Focoos Hub</span>
<span class="sd">            - **Default directory model**: Model name for models in default Focoos directory</span>
<span class="sd">        dataset (str): Name of the dataset to train on (e.g., &#39;mydataset.zip&#39;).</span>
<span class="sd">        run_name (Optional[str]): Optional name for the training run. If not provided,</span>
<span class="sd">            generates a unique name using model name and UUID.</span>
<span class="sd">        datasets_dir (Optional[str]): Custom directory for datasets.</span>
<span class="sd">        dataset_layout (DatasetLayout): Layout format of the dataset. Defaults to ROBOFLOW_COCO.</span>
<span class="sd">        im_size (int): Input image size for training. Defaults to 640.</span>
<span class="sd">        output_dir (Optional[str]): Directory to save training outputs and logs.</span>
<span class="sd">        ckpt_dir (Optional[str]): Directory to save model checkpoints.</span>
<span class="sd">        init_checkpoint (Optional[str]): Path to initial checkpoint for transfer learning.</span>
<span class="sd">        resume (bool): Whether to resume training from the latest checkpoint. Defaults to False.</span>
<span class="sd">        num_gpus (int): Number of GPUs to use for training. Defaults to auto-detected count.</span>
<span class="sd">        device (str): Device type for training (&#39;cuda&#39; or &#39;cpu&#39;). Defaults to &#39;cuda&#39;.</span>
<span class="sd">        workers (int): Number of data loading workers. Defaults to 4.</span>
<span class="sd">        amp_enabled (bool): Enable Automatic Mixed Precision for faster training. Defaults to True.</span>
<span class="sd">        ddp_broadcast_buffers (bool): Whether to broadcast buffers in DistributedDataParallel.</span>
<span class="sd">            Defaults to False.</span>
<span class="sd">        ddp_find_unused (bool): Whether to find unused parameters in DDP. Defaults to True.</span>
<span class="sd">        checkpointer_period (int): Frequency of checkpoint saving (in iterations). Defaults to 1000.</span>
<span class="sd">        checkpointer_max_to_keep (int): Maximum number of checkpoints to retain. Defaults to 1.</span>
<span class="sd">        eval_period (int): Frequency of model evaluation (in iterations). Defaults to 50.</span>
<span class="sd">        log_period (int): Frequency of logging metrics (in iterations). Defaults to 20.</span>
<span class="sd">        samples (int): Number of sample images to log during training. Defaults to 9.</span>
<span class="sd">        seed (int): Random seed for reproducible training. Defaults to 42.</span>
<span class="sd">        early_stop (bool): Enable early stopping based on validation metrics. Defaults to True.</span>
<span class="sd">        patience (int): Number of evaluations to wait before early stopping. Defaults to 10.</span>
<span class="sd">        ema_enabled (bool): Enable Exponential Moving Average of model weights. Defaults to False.</span>
<span class="sd">        ema_decay (float): Decay rate for EMA. Defaults to 0.999.</span>
<span class="sd">        ema_warmup (int): Number of warmup steps for EMA. Defaults to 2000.</span>
<span class="sd">        learning_rate (float): Initial learning rate for optimization. Defaults to 5e-4.</span>
<span class="sd">        weight_decay (float): L2 regularization weight decay. Defaults to 0.02.</span>
<span class="sd">        max_iters (int): Maximum number of training iterations. Defaults to 3000.</span>
<span class="sd">        batch_size (int): Training batch size. Defaults to 16.</span>
<span class="sd">        scheduler (str): Learning rate scheduler type (&#39;MULTISTEP&#39;, &#39;COSINE&#39;, etc.).</span>
<span class="sd">            Defaults to &#39;MULTISTEP&#39;.</span>
<span class="sd">        optimizer (str): Optimizer type (&#39;ADAMW&#39;, &#39;SGD&#39;, etc.). Defaults to &#39;ADAMW&#39;.</span>
<span class="sd">        weight_decay_norm (float): Weight decay for normalization layers. Defaults to 0.0.</span>
<span class="sd">        weight_decay_embed (float): Weight decay for embedding layers. Defaults to 0.0.</span>
<span class="sd">        backbone_multiplier (float): Learning rate multiplier for backbone layers. Defaults to 0.1.</span>
<span class="sd">        decoder_multiplier (float): Learning rate multiplier for decoder layers. Defaults to 1.0.</span>
<span class="sd">        head_multiplier (float): Learning rate multiplier for head layers. Defaults to 1.0.</span>
<span class="sd">        freeze_bn (bool): Whether to freeze batch normalization layers. Defaults to False.</span>
<span class="sd">        clip_gradients (float): Gradient clipping threshold. Defaults to 0.1.</span>
<span class="sd">        size_divisibility (int): Image size divisibility constraint. Defaults to 0.</span>
<span class="sd">        gather_metric_period (int): Frequency of metric gathering (in iterations). Defaults to 1.</span>
<span class="sd">        zero_grad_before_forward (bool): Whether to zero gradients before forward pass.</span>
<span class="sd">            Defaults to False.</span>
<span class="sd">        sync_to_hub (bool): Whether to sync model to Focoos Hub. Defaults to False.</span>

<span class="sd">    Examples:</span>
<span class="sd">        Basic training with pretrained model:</span>
<span class="sd">        ```bash</span>
<span class="sd">        focoos train --model fai-detr-m-coco --dataset mydataset.zip</span>
<span class="sd">        ```</span>

<span class="sd">        Training with model from Focoos Hub:</span>
<span class="sd">        ```bash</span>
<span class="sd">        focoos train --model hub://&lt;model-ref&gt; --dataset mydataset.zip</span>
<span class="sd">        ```</span>

<span class="sd">        Training with local model in default Focoos directory:</span>
<span class="sd">        ```bash</span>
<span class="sd">        focoos train --model my-saved-model --dataset mydataset.zip</span>
<span class="sd">        ```</span>

<span class="sd">        Advanced training with custom parameters:</span>
<span class="sd">        ```bash</span>
<span class="sd">        focoos train --model fai-detr-m-coco --dataset mydataset.zip \</span>
<span class="sd">                     --im-size 800 --batch-size 32 --learning-rate 1e-4 \</span>
<span class="sd">                     --max-iters 5000 --early-stop --patience 20</span>
<span class="sd">        ```</span>

<span class="sd">        Multi-GPU training with mixed precision:</span>
<span class="sd">        ```bash</span>
<span class="sd">        focoos train --model fai-detr-m-coco --dataset custom_dataset \</span>
<span class="sd">                     --num-gpus 4 --amp-enabled --batch-size 64</span>
<span class="sd">        ```</span>

<span class="sd">        Resume training from checkpoint:</span>
<span class="sd">        ```bash</span>
<span class="sd">        focoos train --model fai-detr-m-coco --dataset mydataset.zip \</span>
<span class="sd">                     --resume --ckpt-dir ./checkpoints</span>
<span class="sd">        ```</span>

<span class="sd">    Raises:</span>
<span class="sd">        AssertionError: If device, scheduler, or optimizer parameters are invalid.</span>
<span class="sd">        FileNotFoundError: If dataset or checkpoint files are not found.</span>
<span class="sd">        RuntimeError: If GPU resources are insufficient or CUDA is unavailable.</span>

<span class="sd">    See Also:</span>
<span class="sd">        - [`focoos val`][focoos.cli.cli.val]: For model validation</span>
<span class="sd">        - [`focoos export`][focoos.cli.cli.export]: For model export</span>
<span class="sd">        - [Training Guide](../training.md): For detailed training documentation</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="s2">&quot;🔍 Training arguments:&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Model: </span><span class="si">{</span><span class="n">model</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Dataset: </span><span class="si">{</span><span class="n">dataset</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Dataset layout: </span><span class="si">{</span><span class="n">dataset_layout</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Image size: </span><span class="si">{</span><span class="n">im_size</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Run name: </span><span class="si">{</span><span class="n">run_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Output dir: </span><span class="si">{</span><span class="n">output_dir</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Checkpoint dir: </span><span class="si">{</span><span class="n">ckpt_dir</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Init checkpoint: </span><span class="si">{</span><span class="n">init_checkpoint</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Resume: </span><span class="si">{</span><span class="n">resume</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Num GPUs: </span><span class="si">{</span><span class="n">num_gpus</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Device: </span><span class="si">{</span><span class="n">device</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Workers: </span><span class="si">{</span><span class="n">workers</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Batch size: </span><span class="si">{</span><span class="n">batch_size</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Scheduler: </span><span class="si">{</span><span class="n">scheduler</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Optimizer: </span><span class="si">{</span><span class="n">optimizer</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Weight decay norm: </span><span class="si">{</span><span class="n">weight_decay_norm</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Weight decay embed: </span><span class="si">{</span><span class="n">weight_decay_embed</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Backbone multiplier: </span><span class="si">{</span><span class="n">backbone_multiplier</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Decoder multiplier: </span><span class="si">{</span><span class="n">decoder_multiplier</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Head multiplier: </span><span class="si">{</span><span class="n">head_multiplier</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Cast to proper literal types</span>
        <span class="n">validated_device</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">DeviceType</span><span class="p">,</span> <span class="n">device</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">get_args</span><span class="p">(</span><span class="n">DeviceType</span><span class="p">)</span>
        <span class="n">validated_scheduler</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">SchedulerType</span><span class="p">,</span> <span class="n">scheduler</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>
        <span class="k">assert</span> <span class="n">scheduler</span> <span class="ow">in</span> <span class="n">get_args</span><span class="p">(</span><span class="n">SchedulerType</span><span class="p">)</span>
        <span class="n">validated_optimizer</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">OptimizerType</span><span class="p">,</span> <span class="n">optimizer</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>
        <span class="k">assert</span> <span class="n">optimizer</span> <span class="ow">in</span> <span class="n">get_args</span><span class="p">(</span><span class="n">OptimizerType</span><span class="p">)</span>

        <span class="n">train_command</span><span class="p">(</span>
            <span class="n">model_name</span><span class="o">=</span><span class="n">model</span><span class="p">,</span>
            <span class="n">dataset_name</span><span class="o">=</span><span class="n">dataset</span><span class="p">,</span>
            <span class="n">dataset_layout</span><span class="o">=</span><span class="n">dataset_layout</span><span class="p">,</span>
            <span class="n">im_size</span><span class="o">=</span><span class="n">im_size</span><span class="p">,</span>
            <span class="n">run_name</span><span class="o">=</span><span class="n">run_name</span> <span class="ow">or</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">model</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">output_dir</span><span class="o">=</span><span class="n">output_dir</span><span class="p">,</span>
            <span class="n">ckpt_dir</span><span class="o">=</span><span class="n">ckpt_dir</span><span class="p">,</span>
            <span class="n">init_checkpoint</span><span class="o">=</span><span class="n">init_checkpoint</span><span class="p">,</span>
            <span class="n">resume</span><span class="o">=</span><span class="n">resume</span><span class="p">,</span>
            <span class="n">num_gpus</span><span class="o">=</span><span class="n">num_gpus</span><span class="p">,</span>
            <span class="n">device</span><span class="o">=</span><span class="n">validated_device</span><span class="p">,</span>
            <span class="n">workers</span><span class="o">=</span><span class="n">workers</span><span class="p">,</span>
            <span class="n">amp_enabled</span><span class="o">=</span><span class="n">amp_enabled</span><span class="p">,</span>
            <span class="n">ddp_broadcast_buffers</span><span class="o">=</span><span class="n">ddp_broadcast_buffers</span><span class="p">,</span>
            <span class="n">ddp_find_unused</span><span class="o">=</span><span class="n">ddp_find_unused</span><span class="p">,</span>
            <span class="n">checkpointer_period</span><span class="o">=</span><span class="n">checkpointer_period</span><span class="p">,</span>
            <span class="n">checkpointer_max_to_keep</span><span class="o">=</span><span class="n">checkpointer_max_to_keep</span><span class="p">,</span>
            <span class="n">eval_period</span><span class="o">=</span><span class="n">eval_period</span><span class="p">,</span>
            <span class="n">log_period</span><span class="o">=</span><span class="n">log_period</span><span class="p">,</span>
            <span class="n">samples</span><span class="o">=</span><span class="n">samples</span><span class="p">,</span>
            <span class="n">seed</span><span class="o">=</span><span class="n">seed</span><span class="p">,</span>
            <span class="n">early_stop</span><span class="o">=</span><span class="n">early_stop</span><span class="p">,</span>
            <span class="n">patience</span><span class="o">=</span><span class="n">patience</span><span class="p">,</span>
            <span class="n">ema_enabled</span><span class="o">=</span><span class="n">ema_enabled</span><span class="p">,</span>
            <span class="n">ema_decay</span><span class="o">=</span><span class="n">ema_decay</span><span class="p">,</span>
            <span class="n">ema_warmup</span><span class="o">=</span><span class="n">ema_warmup</span><span class="p">,</span>
            <span class="n">learning_rate</span><span class="o">=</span><span class="n">learning_rate</span><span class="p">,</span>
            <span class="n">weight_decay</span><span class="o">=</span><span class="n">weight_decay</span><span class="p">,</span>
            <span class="n">max_iters</span><span class="o">=</span><span class="n">max_iters</span><span class="p">,</span>
            <span class="n">batch_size</span><span class="o">=</span><span class="n">batch_size</span><span class="p">,</span>
            <span class="n">scheduler</span><span class="o">=</span><span class="n">validated_scheduler</span><span class="p">,</span>
            <span class="n">optimizer</span><span class="o">=</span><span class="n">validated_optimizer</span><span class="p">,</span>
            <span class="n">weight_decay_norm</span><span class="o">=</span><span class="n">weight_decay_norm</span><span class="p">,</span>
            <span class="n">weight_decay_embed</span><span class="o">=</span><span class="n">weight_decay_embed</span><span class="p">,</span>
            <span class="n">backbone_multiplier</span><span class="o">=</span><span class="n">backbone_multiplier</span><span class="p">,</span>
            <span class="n">decoder_multiplier</span><span class="o">=</span><span class="n">decoder_multiplier</span><span class="p">,</span>
            <span class="n">head_multiplier</span><span class="o">=</span><span class="n">head_multiplier</span><span class="p">,</span>
            <span class="n">freeze_bn</span><span class="o">=</span><span class="n">freeze_bn</span><span class="p">,</span>
            <span class="n">clip_gradients</span><span class="o">=</span><span class="n">clip_gradients</span><span class="p">,</span>
            <span class="n">size_divisibility</span><span class="o">=</span><span class="n">size_divisibility</span><span class="p">,</span>
            <span class="n">gather_metric_period</span><span class="o">=</span><span class="n">gather_metric_period</span><span class="p">,</span>
            <span class="n">zero_grad_before_forward</span><span class="o">=</span><span class="n">zero_grad_before_forward</span><span class="p">,</span>
            <span class="n">sync_to_hub</span><span class="o">=</span><span class="n">sync_to_hub</span><span class="p">,</span>
            <span class="n">datasets_dir</span><span class="o">=</span><span class="n">datasets_dir</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Training failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="focoos.cli.cli.val" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">val</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">dataset</span><span class="p">,</span> <span class="n">datasets_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">run_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dataset_layout</span><span class="o">=</span><span class="n">DatasetLayout</span><span class="o">.</span><span class="n">ROBOFLOW_COCO</span><span class="p">,</span> <span class="n">im_size</span><span class="o">=</span><span class="mi">640</span><span class="p">,</span> <span class="n">output_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ckpt_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">init_checkpoint</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resume</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">num_gpus</span><span class="o">=</span><span class="n">get_gpus_count</span><span class="p">(),</span> <span class="n">device</span><span class="o">=</span><span class="s1">&#39;cuda&#39;</span><span class="p">,</span> <span class="n">workers</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">amp_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ddp_broadcast_buffers</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ddp_find_unused</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">checkpointer_period</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">checkpointer_max_to_keep</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">eval_period</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">log_period</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">samples</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">early_stop</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">patience</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">ema_enabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ema_decay</span><span class="o">=</span><span class="mf">0.999</span><span class="p">,</span> <span class="n">ema_warmup</span><span class="o">=</span><span class="mi">2000</span><span class="p">,</span> <span class="n">learning_rate</span><span class="o">=</span><span class="mf">0.0005</span><span class="p">,</span> <span class="n">weight_decay</span><span class="o">=</span><span class="mf">0.02</span><span class="p">,</span> <span class="n">max_iters</span><span class="o">=</span><span class="mi">3000</span><span class="p">,</span> <span class="n">batch_size</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">scheduler</span><span class="o">=</span><span class="s1">&#39;MULTISTEP&#39;</span><span class="p">,</span> <span class="n">optimizer</span><span class="o">=</span><span class="s1">&#39;ADAMW&#39;</span><span class="p">,</span> <span class="n">weight_decay_norm</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">weight_decay_embed</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">backbone_multiplier</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">decoder_multiplier</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">head_multiplier</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">freeze_bn</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">clip_gradients</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">size_divisibility</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">gather_metric_period</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">zero_grad_before_forward</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

<a href="#focoos.cli.cli.val" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">

        <p>Validate a model on a dataset with comprehensive evaluation metrics.</p>
<p>This command performs model validation/evaluation on a specified dataset,
computing various metrics such as mAP, precision, recall, and other
task-specific evaluation measures. Supports the same configuration options
as training for consistency in evaluation setup.</p>


<details class="validation-metrics" open>
  <summary>Validation Metrics</summary>
  <ul>
<li><strong>mAP (mean Average Precision)</strong>: Overall detection accuracy</li>
<li><strong>Precision/Recall</strong>: Per-class and overall performance</li>
<li><strong>F1-Score</strong>: Harmonic mean of precision and recall</li>
<li><strong>IoU (Intersection over Union)</strong>: Bounding box accuracy</li>
<li><strong>Inference Speed</strong>: FPS and latency measurements</li>
</ul>
</details>

<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>model</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the model to validate (e.g., 'fai-detr-m-coco').
Can be specified in several ways:
- <strong>Pretrained model</strong>: Simple model name like 'fai-detr-m-coco'
- <strong>Hub model</strong>: Format 'hub://<model-ref>' for models from Focoos Hub
- <strong>Default directory model</strong>: Model name for models in default Focoos directory</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>dataset</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the dataset for validation (e.g., 'mydataset.zip').</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>run_name</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional name for the validation run. If not provided,
generates a unique name using model name and UUID.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>dataset_layout</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="DatasetLayout (focoos.ports.DatasetLayout)" href="../ports/#focoos.ports.DatasetLayout">DatasetLayout</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Layout format of the dataset. Defaults to ROBOFLOW_COCO.</p>
              </div>
            </td>
            <td>
                  <code><span title="focoos.ports.DatasetLayout.ROBOFLOW_COCO">ROBOFLOW_COCO</span></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>im_size</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Input image size for validation. Defaults to 640.</p>
              </div>
            </td>
            <td>
                  <code>640</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>output_dir</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Directory to save validation outputs and results.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ckpt_dir</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Directory containing model checkpoints.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>init_checkpoint</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to specific checkpoint for validation.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>resume</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to resume from checkpoint (typically not used in validation).</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>num_gpus</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of GPUs to use for validation. Defaults to auto-detected count.</p>
              </div>
            </td>
            <td>
                  <code><span title="focoos.ports.get_gpus_count">get_gpus_count</span>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>device</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Device type for validation ('cuda' or 'cpu'). Defaults to 'cuda'.</p>
              </div>
            </td>
            <td>
                  <code>&#39;cuda&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>workers</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of data loading workers. Defaults to 4.</p>
              </div>
            </td>
            <td>
                  <code>4</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>amp_enabled</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Enable Automatic Mixed Precision for faster inference. Defaults to True.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ddp_broadcast_buffers</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to broadcast buffers in DistributedDataParallel.
Defaults to False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ddp_find_unused</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to find unused parameters in DDP. Defaults to True.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>checkpointer_period</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Checkpoint saving frequency (not typically used in validation).</p>
              </div>
            </td>
            <td>
                  <code>1000</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>checkpointer_max_to_keep</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Maximum checkpoints to keep.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>eval_period</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Frequency of evaluation logging (in iterations). Defaults to 50.</p>
              </div>
            </td>
            <td>
                  <code>50</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>log_period</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Frequency of metric logging (in iterations). Defaults to 20.</p>
              </div>
            </td>
            <td>
                  <code>20</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>samples</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of sample images to visualize during validation. Defaults to 9.</p>
              </div>
            </td>
            <td>
                  <code>9</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>seed</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Random seed for reproducible validation. Defaults to 42.</p>
              </div>
            </td>
            <td>
                  <code>42</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>early_stop</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Enable early stopping (not typically used in validation).</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>patience</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Early stopping patience.</p>
              </div>
            </td>
            <td>
                  <code>10</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ema_enabled</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Use Exponential Moving Average weights if available.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ema_decay</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>EMA decay rate.</p>
              </div>
            </td>
            <td>
                  <code>0.999</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ema_warmup</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>EMA warmup steps.</p>
              </div>
            </td>
            <td>
                  <code>2000</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>learning_rate</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Learning rate (not used in validation).</p>
              </div>
            </td>
            <td>
                  <code>0.0005</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>weight_decay</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Weight decay (not used in validation).</p>
              </div>
            </td>
            <td>
                  <code>0.02</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>max_iters</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Maximum validation iterations.</p>
              </div>
            </td>
            <td>
                  <code>3000</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>batch_size</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Validation batch size. Defaults to 16.</p>
              </div>
            </td>
            <td>
                  <code>16</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>scheduler</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Scheduler type (not used in validation).</p>
              </div>
            </td>
            <td>
                  <code>&#39;MULTISTEP&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>optimizer</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optimizer type (not used in validation).</p>
              </div>
            </td>
            <td>
                  <code>&#39;ADAMW&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>weight_decay_norm</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Weight decay for normalization layers.</p>
              </div>
            </td>
            <td>
                  <code>0.0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>weight_decay_embed</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Weight decay for embedding layers.</p>
              </div>
            </td>
            <td>
                  <code>0.0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>backbone_multiplier</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Backbone learning rate multiplier.</p>
              </div>
            </td>
            <td>
                  <code>0.1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>decoder_multiplier</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Decoder learning rate multiplier.</p>
              </div>
            </td>
            <td>
                  <code>1.0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>head_multiplier</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Head learning rate multiplier.</p>
              </div>
            </td>
            <td>
                  <code>1.0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>freeze_bn</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to freeze batch normalization layers.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>clip_gradients</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Gradient clipping threshold.</p>
              </div>
            </td>
            <td>
                  <code>0.1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>size_divisibility</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Image size divisibility constraint.</p>
              </div>
            </td>
            <td>
                  <code>0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>gather_metric_period</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Frequency of metric gathering.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>zero_grad_before_forward</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to zero gradients before forward pass.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>datasets_dir</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Custom directory for datasets.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Basic validation with pretrained model:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>val<span class="w"> </span>--model<span class="w"> </span>fai-detr-m-coco<span class="w"> </span>--dataset<span class="w"> </span>mydataset.zip
</code></pre></div></td></tr></table></div></p>
<p>Validation with model from Focoos Hub:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>val<span class="w"> </span>--model<span class="w"> </span>hub://&lt;model-ref&gt;<span class="w"> </span>--dataset<span class="w"> </span>mydataset.zip
</code></pre></div></td></tr></table></div></p>
<p>Validation with local model in default Focoos directory:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>val<span class="w"> </span>--model<span class="w"> </span>my-checkpoint-model<span class="w"> </span>--dataset<span class="w"> </span>mydataset.zip
</code></pre></div></td></tr></table></div></p>
<p>Validation with specific checkpoint:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>val<span class="w"> </span>--model<span class="w"> </span>fai-detr-m-coco<span class="w"> </span>--dataset<span class="w"> </span>mydataset.zip<span class="w">                    </span>--init-checkpoint<span class="w"> </span>path/to/checkpoint.pth<span class="w"> </span>--im-size<span class="w"> </span><span class="m">800</span>
</code></pre></div></td></tr></table></div></p>
<p>Multi-GPU validation:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>val<span class="w"> </span>--model<span class="w"> </span>fai-detr-m-coco<span class="w"> </span>--dataset<span class="w"> </span>large_dataset<span class="w">                    </span>--num-gpus<span class="w"> </span><span class="m">2</span><span class="w"> </span>--batch-size<span class="w"> </span><span class="m">32</span>
</code></pre></div></td></tr></table></div></p>
<p>Validation with custom output directory:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>val<span class="w"> </span>--model<span class="w"> </span>fai-detr-m-coco<span class="w"> </span>--dataset<span class="w"> </span>mydataset.zip<span class="w">                    </span>--output-dir<span class="w"> </span>./validation_results
</code></pre></div></td></tr></table></div></p>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="AssertionError">AssertionError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If device, scheduler, or optimizer parameters are invalid.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="FileNotFoundError">FileNotFoundError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If dataset or checkpoint files are not found.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="RuntimeError">RuntimeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If GPU resources are insufficient or model loading fails.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="see-also" open>
  <summary>See Also</summary>
  <ul>
<li><a class="autorefs autorefs-internal" title="train(model, dataset, run_name=None, datasets_dir=None, dataset_layout=DatasetLayout.ROBOFLOW_COCO, im_size=640, output_dir=None, ckpt_dir=None, init_checkpoint=None, resume=False, num_gpus=get_gpus_count(), device='cuda', workers=4, amp_enabled=True, ddp_broadcast_buffers=False, ddp_find_unused=True, checkpointer_period=1000, checkpointer_max_to_keep=1, eval_period=50, log_period=20, samples=9, seed=42, early_stop=True, patience=10, ema_enabled=False, ema_decay=0.999, ema_warmup=2000, learning_rate=0.0005, weight_decay=0.02, max_iters=3000, batch_size=16, scheduler='MULTISTEP', optimizer='ADAMW', weight_decay_norm=0.0, weight_decay_embed=0.0, backbone_multiplier=0.1, decoder_multiplier=1.0, head_multiplier=1.0, freeze_bn=False, clip_gradients=0.1, size_divisibility=0, gather_metric_period=1, zero_grad_before_forward=False, sync_to_hub=False)" href="#focoos.cli.cli.train"><code>focoos train</code></a>: For model training</li>
<li><a class="autorefs autorefs-internal" title="predict(source, model='fai-detr-l-obj365', runtime=None, im_size=640, conf=0.5, output_dir=PREDICTIONS_DIR, save=True, save_json=True, save_masks=True)" href="#focoos.cli.cli.predict"><code>focoos predict</code></a>: For inference</li>
<li><a href="../validation.md">Validation Guide</a>: For detailed validation documentation</li>
</ul>
</details>

            <details class="quote">
              <summary>Source code in <code>focoos/cli/cli.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="s2">&quot;val&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">val</span><span class="p">(</span>
    <span class="n">model</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Model name (required)&quot;</span><span class="p">)],</span>
    <span class="n">dataset</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Dataset name (required)&quot;</span><span class="p">)],</span>
    <span class="n">datasets_dir</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span>
        <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Datasets directory (default: ~/FocoosAI/datasets/)&quot;</span><span class="p">)</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">run_name</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Run name&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">dataset_layout</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">DatasetLayout</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Dataset layout&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="n">DatasetLayout</span><span class="o">.</span><span class="n">ROBOFLOW_COCO</span><span class="p">,</span>
    <span class="n">im_size</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Image size&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">640</span><span class="p">,</span>
    <span class="n">output_dir</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Output directory&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">ckpt_dir</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Checkpoint directory&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">init_checkpoint</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Initial checkpoint&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">resume</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Resume training&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">num_gpus</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Number of GPUs&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="n">get_gpus_count</span><span class="p">(),</span>
    <span class="n">device</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Device&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="s2">&quot;cuda&quot;</span><span class="p">,</span>
    <span class="n">workers</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Number of workers&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
    <span class="n">amp_enabled</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Enable AMP&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">ddp_broadcast_buffers</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;DDP broadcast buffers&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">ddp_find_unused</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;DDP find unused&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">checkpointer_period</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Checkpointer period&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">,</span>
    <span class="n">checkpointer_max_to_keep</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Checkpointer max to keep&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">eval_period</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Evaluation period&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span>
    <span class="n">log_period</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Log period&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
    <span class="n">samples</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Number of samples&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span>
    <span class="n">seed</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Random seed&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">42</span><span class="p">,</span>
    <span class="n">early_stop</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Enable early stopping&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">patience</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Early stopping patience&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
    <span class="n">ema_enabled</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Enable EMA&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">ema_decay</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;EMA decay&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mf">0.999</span><span class="p">,</span>
    <span class="n">ema_warmup</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;EMA warmup&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">2000</span><span class="p">,</span>
    <span class="n">learning_rate</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Learning rate&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mf">5e-4</span><span class="p">,</span>
    <span class="n">weight_decay</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Weight decay&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mf">0.02</span><span class="p">,</span>
    <span class="n">max_iters</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Maximum iterations&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">3000</span><span class="p">,</span>
    <span class="n">batch_size</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Batch size&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">16</span><span class="p">,</span>
    <span class="n">scheduler</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Scheduler type&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="s2">&quot;MULTISTEP&quot;</span><span class="p">,</span>
    <span class="n">optimizer</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Optimizer type&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="s2">&quot;ADAMW&quot;</span><span class="p">,</span>
    <span class="n">weight_decay_norm</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Weight decay for normalization layers&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
    <span class="n">weight_decay_embed</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Weight decay for embedding layers&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
    <span class="n">backbone_multiplier</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Backbone learning rate multiplier&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span>
    <span class="n">decoder_multiplier</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Decoder learning rate multiplier&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span>
    <span class="n">head_multiplier</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Head learning rate multiplier&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span>
    <span class="n">freeze_bn</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Freeze batch normalization&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">clip_gradients</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Gradient clipping value&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span>
    <span class="n">size_divisibility</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Size divisibility&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">gather_metric_period</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Gather metric period&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">zero_grad_before_forward</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Zero gradients before forward pass&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Validate a model on a dataset with comprehensive evaluation metrics.</span>

<span class="sd">    This command performs model validation/evaluation on a specified dataset,</span>
<span class="sd">    computing various metrics such as mAP, precision, recall, and other</span>
<span class="sd">    task-specific evaluation measures. Supports the same configuration options</span>
<span class="sd">    as training for consistency in evaluation setup.</span>

<span class="sd">    Validation Metrics:</span>
<span class="sd">        - **mAP (mean Average Precision)**: Overall detection accuracy</span>
<span class="sd">        - **Precision/Recall**: Per-class and overall performance</span>
<span class="sd">        - **F1-Score**: Harmonic mean of precision and recall</span>
<span class="sd">        - **IoU (Intersection over Union)**: Bounding box accuracy</span>
<span class="sd">        - **Inference Speed**: FPS and latency measurements</span>

<span class="sd">    Args:</span>
<span class="sd">        model (str): Name of the model to validate (e.g., &#39;fai-detr-m-coco&#39;).</span>
<span class="sd">            Can be specified in several ways:</span>
<span class="sd">            - **Pretrained model**: Simple model name like &#39;fai-detr-m-coco&#39;</span>
<span class="sd">            - **Hub model**: Format &#39;hub://&lt;model-ref&gt;&#39; for models from Focoos Hub</span>
<span class="sd">            - **Default directory model**: Model name for models in default Focoos directory</span>
<span class="sd">        dataset (str): Name of the dataset for validation (e.g., &#39;mydataset.zip&#39;).</span>
<span class="sd">        run_name (Optional[str]): Optional name for the validation run. If not provided,</span>
<span class="sd">            generates a unique name using model name and UUID.</span>
<span class="sd">        dataset_layout (DatasetLayout): Layout format of the dataset. Defaults to ROBOFLOW_COCO.</span>
<span class="sd">        im_size (int): Input image size for validation. Defaults to 640.</span>
<span class="sd">        output_dir (Optional[str]): Directory to save validation outputs and results.</span>
<span class="sd">        ckpt_dir (Optional[str]): Directory containing model checkpoints.</span>
<span class="sd">        init_checkpoint (Optional[str]): Path to specific checkpoint for validation.</span>
<span class="sd">        resume (bool): Whether to resume from checkpoint (typically not used in validation).</span>
<span class="sd">        num_gpus (int): Number of GPUs to use for validation. Defaults to auto-detected count.</span>
<span class="sd">        device (str): Device type for validation (&#39;cuda&#39; or &#39;cpu&#39;). Defaults to &#39;cuda&#39;.</span>
<span class="sd">        workers (int): Number of data loading workers. Defaults to 4.</span>
<span class="sd">        amp_enabled (bool): Enable Automatic Mixed Precision for faster inference. Defaults to True.</span>
<span class="sd">        ddp_broadcast_buffers (bool): Whether to broadcast buffers in DistributedDataParallel.</span>
<span class="sd">            Defaults to False.</span>
<span class="sd">        ddp_find_unused (bool): Whether to find unused parameters in DDP. Defaults to True.</span>
<span class="sd">        checkpointer_period (int): Checkpoint saving frequency (not typically used in validation).</span>
<span class="sd">        checkpointer_max_to_keep (int): Maximum checkpoints to keep.</span>
<span class="sd">        eval_period (int): Frequency of evaluation logging (in iterations). Defaults to 50.</span>
<span class="sd">        log_period (int): Frequency of metric logging (in iterations). Defaults to 20.</span>
<span class="sd">        samples (int): Number of sample images to visualize during validation. Defaults to 9.</span>
<span class="sd">        seed (int): Random seed for reproducible validation. Defaults to 42.</span>
<span class="sd">        early_stop (bool): Enable early stopping (not typically used in validation).</span>
<span class="sd">        patience (int): Early stopping patience.</span>
<span class="sd">        ema_enabled (bool): Use Exponential Moving Average weights if available.</span>
<span class="sd">        ema_decay (float): EMA decay rate.</span>
<span class="sd">        ema_warmup (int): EMA warmup steps.</span>
<span class="sd">        learning_rate (float): Learning rate (not used in validation).</span>
<span class="sd">        weight_decay (float): Weight decay (not used in validation).</span>
<span class="sd">        max_iters (int): Maximum validation iterations.</span>
<span class="sd">        batch_size (int): Validation batch size. Defaults to 16.</span>
<span class="sd">        scheduler (str): Scheduler type (not used in validation).</span>
<span class="sd">        optimizer (str): Optimizer type (not used in validation).</span>
<span class="sd">        weight_decay_norm (float): Weight decay for normalization layers.</span>
<span class="sd">        weight_decay_embed (float): Weight decay for embedding layers.</span>
<span class="sd">        backbone_multiplier (float): Backbone learning rate multiplier.</span>
<span class="sd">        decoder_multiplier (float): Decoder learning rate multiplier.</span>
<span class="sd">        head_multiplier (float): Head learning rate multiplier.</span>
<span class="sd">        freeze_bn (bool): Whether to freeze batch normalization layers.</span>
<span class="sd">        clip_gradients (float): Gradient clipping threshold.</span>
<span class="sd">        size_divisibility (int): Image size divisibility constraint.</span>
<span class="sd">        gather_metric_period (int): Frequency of metric gathering.</span>
<span class="sd">        zero_grad_before_forward (bool): Whether to zero gradients before forward pass.</span>
<span class="sd">        datasets_dir (Optional[str]): Custom directory for datasets.</span>

<span class="sd">    Examples:</span>
<span class="sd">        Basic validation with pretrained model:</span>
<span class="sd">        ```bash</span>
<span class="sd">        focoos val --model fai-detr-m-coco --dataset mydataset.zip</span>
<span class="sd">        ```</span>

<span class="sd">        Validation with model from Focoos Hub:</span>
<span class="sd">        ```bash</span>
<span class="sd">        focoos val --model hub://&lt;model-ref&gt; --dataset mydataset.zip</span>
<span class="sd">        ```</span>

<span class="sd">        Validation with local model in default Focoos directory:</span>
<span class="sd">        ```bash</span>
<span class="sd">        focoos val --model my-checkpoint-model --dataset mydataset.zip</span>
<span class="sd">        ```</span>

<span class="sd">        Validation with specific checkpoint:</span>
<span class="sd">        ```bash</span>
<span class="sd">        focoos val --model fai-detr-m-coco --dataset mydataset.zip \</span>
<span class="sd">                   --init-checkpoint path/to/checkpoint.pth --im-size 800</span>
<span class="sd">        ```</span>

<span class="sd">        Multi-GPU validation:</span>
<span class="sd">        ```bash</span>
<span class="sd">        focoos val --model fai-detr-m-coco --dataset large_dataset \</span>
<span class="sd">                   --num-gpus 2 --batch-size 32</span>
<span class="sd">        ```</span>

<span class="sd">        Validation with custom output directory:</span>
<span class="sd">        ```bash</span>
<span class="sd">        focoos val --model fai-detr-m-coco --dataset mydataset.zip \</span>
<span class="sd">                   --output-dir ./validation_results</span>
<span class="sd">        ```</span>

<span class="sd">    Raises:</span>
<span class="sd">        AssertionError: If device, scheduler, or optimizer parameters are invalid.</span>
<span class="sd">        FileNotFoundError: If dataset or checkpoint files are not found.</span>
<span class="sd">        RuntimeError: If GPU resources are insufficient or model loading fails.</span>

<span class="sd">    See Also:</span>
<span class="sd">        - [`focoos train`][focoos.cli.cli.train]: For model training</span>
<span class="sd">        - [`focoos predict`][focoos.cli.cli.predict]: For inference</span>
<span class="sd">        - [Validation Guide](../validation.md): For detailed validation documentation</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="s2">&quot;🔍 Validation arguments:&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Model: </span><span class="si">{</span><span class="n">model</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Dataset: </span><span class="si">{</span><span class="n">dataset</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Dataset layout: </span><span class="si">{</span><span class="n">dataset_layout</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Image size: </span><span class="si">{</span><span class="n">im_size</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Run name: </span><span class="si">{</span><span class="n">run_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Output dir: </span><span class="si">{</span><span class="n">output_dir</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Checkpoint dir: </span><span class="si">{</span><span class="n">ckpt_dir</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Init checkpoint: </span><span class="si">{</span><span class="n">init_checkpoint</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Resume: </span><span class="si">{</span><span class="n">resume</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Num GPUs: </span><span class="si">{</span><span class="n">num_gpus</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Device: </span><span class="si">{</span><span class="n">device</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Workers: </span><span class="si">{</span><span class="n">workers</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Batch size: </span><span class="si">{</span><span class="n">batch_size</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Learning rate: </span><span class="si">{</span><span class="n">learning_rate</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Weight decay: </span><span class="si">{</span><span class="n">weight_decay</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Max iterations: </span><span class="si">{</span><span class="n">max_iters</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Scheduler: </span><span class="si">{</span><span class="n">scheduler</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Optimizer: </span><span class="si">{</span><span class="n">optimizer</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Weight decay norm: </span><span class="si">{</span><span class="n">weight_decay_norm</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Weight decay embed: </span><span class="si">{</span><span class="n">weight_decay_embed</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Backbone multiplier: </span><span class="si">{</span><span class="n">backbone_multiplier</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Decoder multiplier: </span><span class="si">{</span><span class="n">decoder_multiplier</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Head multiplier: </span><span class="si">{</span><span class="n">head_multiplier</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Freeze BN: </span><span class="si">{</span><span class="n">freeze_bn</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">validated_device</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">DeviceType</span><span class="p">,</span> <span class="n">device</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">get_args</span><span class="p">(</span><span class="n">DeviceType</span><span class="p">)</span>
        <span class="n">validated_scheduler</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">SchedulerType</span><span class="p">,</span> <span class="n">scheduler</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>
        <span class="k">assert</span> <span class="n">scheduler</span> <span class="ow">in</span> <span class="n">get_args</span><span class="p">(</span><span class="n">SchedulerType</span><span class="p">)</span>
        <span class="n">validated_optimizer</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">OptimizerType</span><span class="p">,</span> <span class="n">optimizer</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>
        <span class="k">assert</span> <span class="n">optimizer</span> <span class="ow">in</span> <span class="n">get_args</span><span class="p">(</span><span class="n">OptimizerType</span><span class="p">)</span>

        <span class="n">val_command</span><span class="p">(</span>
            <span class="n">model_name</span><span class="o">=</span><span class="n">model</span><span class="p">,</span>
            <span class="n">dataset_name</span><span class="o">=</span><span class="n">dataset</span><span class="p">,</span>
            <span class="n">dataset_layout</span><span class="o">=</span><span class="n">dataset_layout</span><span class="p">,</span>
            <span class="n">im_size</span><span class="o">=</span><span class="n">im_size</span><span class="p">,</span>
            <span class="n">run_name</span><span class="o">=</span><span class="n">run_name</span> <span class="ow">or</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">model</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">output_dir</span><span class="o">=</span><span class="n">output_dir</span><span class="p">,</span>
            <span class="n">ckpt_dir</span><span class="o">=</span><span class="n">ckpt_dir</span><span class="p">,</span>
            <span class="n">init_checkpoint</span><span class="o">=</span><span class="n">init_checkpoint</span><span class="p">,</span>
            <span class="n">resume</span><span class="o">=</span><span class="n">resume</span><span class="p">,</span>
            <span class="n">num_gpus</span><span class="o">=</span><span class="n">num_gpus</span><span class="p">,</span>
            <span class="n">device</span><span class="o">=</span><span class="n">validated_device</span><span class="p">,</span>
            <span class="n">workers</span><span class="o">=</span><span class="n">workers</span><span class="p">,</span>
            <span class="n">amp_enabled</span><span class="o">=</span><span class="n">amp_enabled</span><span class="p">,</span>
            <span class="n">ddp_broadcast_buffers</span><span class="o">=</span><span class="n">ddp_broadcast_buffers</span><span class="p">,</span>
            <span class="n">ddp_find_unused</span><span class="o">=</span><span class="n">ddp_find_unused</span><span class="p">,</span>
            <span class="n">checkpointer_period</span><span class="o">=</span><span class="n">checkpointer_period</span><span class="p">,</span>
            <span class="n">checkpointer_max_to_keep</span><span class="o">=</span><span class="n">checkpointer_max_to_keep</span><span class="p">,</span>
            <span class="n">eval_period</span><span class="o">=</span><span class="n">eval_period</span><span class="p">,</span>
            <span class="n">log_period</span><span class="o">=</span><span class="n">log_period</span><span class="p">,</span>
            <span class="n">samples</span><span class="o">=</span><span class="n">samples</span><span class="p">,</span>
            <span class="n">seed</span><span class="o">=</span><span class="n">seed</span><span class="p">,</span>
            <span class="n">early_stop</span><span class="o">=</span><span class="n">early_stop</span><span class="p">,</span>
            <span class="n">patience</span><span class="o">=</span><span class="n">patience</span><span class="p">,</span>
            <span class="n">ema_enabled</span><span class="o">=</span><span class="n">ema_enabled</span><span class="p">,</span>
            <span class="n">ema_decay</span><span class="o">=</span><span class="n">ema_decay</span><span class="p">,</span>
            <span class="n">ema_warmup</span><span class="o">=</span><span class="n">ema_warmup</span><span class="p">,</span>
            <span class="n">learning_rate</span><span class="o">=</span><span class="n">learning_rate</span><span class="p">,</span>
            <span class="n">weight_decay</span><span class="o">=</span><span class="n">weight_decay</span><span class="p">,</span>
            <span class="n">max_iters</span><span class="o">=</span><span class="n">max_iters</span><span class="p">,</span>
            <span class="n">batch_size</span><span class="o">=</span><span class="n">batch_size</span><span class="p">,</span>
            <span class="n">scheduler</span><span class="o">=</span><span class="n">validated_scheduler</span><span class="p">,</span>
            <span class="n">optimizer</span><span class="o">=</span><span class="n">validated_optimizer</span><span class="p">,</span>
            <span class="n">weight_decay_norm</span><span class="o">=</span><span class="n">weight_decay_norm</span><span class="p">,</span>
            <span class="n">weight_decay_embed</span><span class="o">=</span><span class="n">weight_decay_embed</span><span class="p">,</span>
            <span class="n">backbone_multiplier</span><span class="o">=</span><span class="n">backbone_multiplier</span><span class="p">,</span>
            <span class="n">decoder_multiplier</span><span class="o">=</span><span class="n">decoder_multiplier</span><span class="p">,</span>
            <span class="n">head_multiplier</span><span class="o">=</span><span class="n">head_multiplier</span><span class="p">,</span>
            <span class="n">freeze_bn</span><span class="o">=</span><span class="n">freeze_bn</span><span class="p">,</span>
            <span class="n">clip_gradients</span><span class="o">=</span><span class="n">clip_gradients</span><span class="p">,</span>
            <span class="n">size_divisibility</span><span class="o">=</span><span class="n">size_divisibility</span><span class="p">,</span>
            <span class="n">gather_metric_period</span><span class="o">=</span><span class="n">gather_metric_period</span><span class="p">,</span>
            <span class="n">zero_grad_before_forward</span><span class="o">=</span><span class="n">zero_grad_before_forward</span><span class="p">,</span>
            <span class="n">datasets_dir</span><span class="o">=</span><span class="n">datasets_dir</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Validation failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="focoos.cli.cli.version" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">version</span><span class="p">()</span></code>

<a href="#focoos.cli.cli.version" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">

        <p>Show Focoos version information.</p>
<p>This command displays the current version of the Focoos library installed
on the system. If the version cannot be determined, it shows "Unknown".</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>version
</code></pre></div></td></tr></table></div>
<p>Output:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>Focoos version: 0.15.0
</code></pre></div></td></tr></table></div></p>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typer.Exit">Exit</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If there's an error retrieving version information.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="see-also" open>
  <summary>See Also</summary>
  <ul>
<li><a class="autorefs autorefs-internal" title="checks()" href="#focoos.cli.cli.checks"><code>focoos checks</code></a>: For system diagnostics</li>
<li><a class="autorefs autorefs-internal" title="settings()" href="#focoos.cli.cli.settings"><code>focoos settings</code></a>: For configuration info</li>
</ul>
</details>

            <details class="quote">
              <summary>Source code in <code>focoos/cli/cli.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="s2">&quot;version&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">version</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Show Focoos version information.</span>

<span class="sd">    This command displays the current version of the Focoos library installed</span>
<span class="sd">    on the system. If the version cannot be determined, it shows &quot;Unknown&quot;.</span>

<span class="sd">    Examples:</span>
<span class="sd">        ```bash</span>
<span class="sd">        focoos version</span>
<span class="sd">        ```</span>

<span class="sd">        Output:</span>
<span class="sd">        ```</span>
<span class="sd">        Focoos version: 0.15.0</span>
<span class="sd">        ```</span>

<span class="sd">    Raises:</span>
<span class="sd">        typer.Exit: If there&#39;s an error retrieving version information.</span>

<span class="sd">    See Also:</span>
<span class="sd">        - [`focoos checks`][focoos.cli.cli.checks]: For system diagnostics</span>
<span class="sd">        - [`focoos settings`][focoos.cli.cli.settings]: For configuration info</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">focoos.utils.system</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_focoos_version</span>

        <span class="n">version</span> <span class="o">=</span> <span class="n">get_focoos_version</span><span class="p">()</span>
        <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Focoos version: </span><span class="si">{</span><span class="n">version</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
        <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="s2">&quot;Focoos version: Unknown&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><hr />


<div class="doc doc-object doc-module">



<a id="focoos.cli.commands.hub"></a>
    <div class="doc doc-contents first">

        <p>Hub command implementation.</p>
<p>This module implements the hub-related commands for the Focoos CLI. It provides
functionality to interact with the Focoos Hub, including listing available models
and datasets, both private and shared resources.</p>
<p>The Hub commands allow users to:
- Browse and discover available pretrained models
- List private and shared datasets
- Get detailed information about model specifications
- Access dataset metadata and statistics</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>List available models:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>hub<span class="w"> </span>models
</code></pre></div></td></tr></table></div></p>
<p>List datasets including shared ones:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>hub<span class="w"> </span>datasets<span class="w"> </span>--include-shared
</code></pre></div></td></tr></table></div></p>
<p>Download a dataset:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>hub<span class="w"> </span>dataset<span class="w"> </span>download<span class="w"> </span>--ref<span class="w"> </span>my-dataset<span class="w"> </span>--path<span class="w"> </span>./data
</code></pre></div></td></tr></table></div></p>
<p>Upload a dataset:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>focoos<span class="w"> </span>hub<span class="w"> </span>dataset<span class="w"> </span>upload<span class="w"> </span>--ref<span class="w"> </span>my-dataset<span class="w"> </span>--path<span class="w"> </span>./data.zip
</code></pre></div></td></tr></table></div></p>


<details class="see-also" open>
  <summary>See Also</summary>
  <ul>
<li><a class="autorefs autorefs-internal" title="FocoosHUB" href="../hub/#focoos.hub.focoos_hub.FocoosHUB"><code>focoos.hub.focoos_hub.FocoosHUB</code></a>: Core hub functionality</li>
</ul>
</details>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h2 id="focoos.cli.commands.hub.datasets" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">datasets</span><span class="p">(</span><span class="n">include_shared</span><span class="o">=</span><span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s1">&#39;Include shared/public datasets in addition to private ones&#39;</span><span class="p">))</span></code>

<a href="#focoos.cli.commands.hub.datasets" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">

        <p>List available datasets from the Focoos Hub.</p>
<p>Retrieves and displays datasets available on the Focoos Hub. By default,
only shows private datasets associated with your account. Use the
<code>--include-shared</code> flag to also include publicly shared datasets.</p>
<p>For each dataset, displays comprehensive information including:
- <strong>Name</strong>: Human-readable dataset name
- <strong>Reference</strong>: Unique dataset identifier for CLI usage
- <strong>Task</strong>: Computer vision task type
- <strong>Layout</strong>: Dataset format/structure
- <strong>Description</strong>: Dataset description and details
- <strong>Statistics</strong>: Training/validation split sizes and total size</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>include_shared</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to include shared/public datasets
in addition to private ones. Defaults to False.</p>
              </div>
            </td>
            <td>
                  <code><span title="typer.Option">Option</span>(False, help=&#39;Include shared/public datasets in addition to private ones&#39;)</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># List only your private datasets</span>
focoos<span class="w"> </span>hub<span class="w"> </span>datasets

<span class="c1"># List both private and shared datasets</span>
focoos<span class="w"> </span>hub<span class="w"> </span>datasets<span class="w"> </span>--include-shared
</code></pre></div></td></tr></table></div>
<p>Output example:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div><pre><span></span><code>🔍 Found 3 dataset(s):

📦 Dataset #1
   🏷️  Name: My Custom Dataset
   🔗 Reference: my-custom-dataset
   🎯 Task: object_detection
   📋 Layout: roboflow_coco
   📝 Description: Custom dataset for object detection
   🤖 Train Length: 1000
   🤖 Val Length: 200
   🤖 Size MB: 150.5
</code></pre></div></td></tr></table></div></p>


<details class="note" open>
  <summary>Note</summary>
  <ul>
<li>This command requires an internet connection to access the Focoos Hub.</li>
<li>This command requires a Focoos API Key to be set in the environment variable <code>FOCOOS_API_KEY</code>.</li>
<li>Shared datasets may require appropriate permissions to access.</li>
</ul>
</details>

            <details class="quote">
              <summary>Source code in <code>focoos/cli/commands/hub.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">datasets</span><span class="p">(</span>
    <span class="n">include_shared</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Include shared/public datasets in addition to private ones&quot;</span><span class="p">),</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List available datasets from the Focoos Hub.</span>

<span class="sd">    Retrieves and displays datasets available on the Focoos Hub. By default,</span>
<span class="sd">    only shows private datasets associated with your account. Use the</span>
<span class="sd">    `--include-shared` flag to also include publicly shared datasets.</span>

<span class="sd">    For each dataset, displays comprehensive information including:</span>
<span class="sd">    - **Name**: Human-readable dataset name</span>
<span class="sd">    - **Reference**: Unique dataset identifier for CLI usage</span>
<span class="sd">    - **Task**: Computer vision task type</span>
<span class="sd">    - **Layout**: Dataset format/structure</span>
<span class="sd">    - **Description**: Dataset description and details</span>
<span class="sd">    - **Statistics**: Training/validation split sizes and total size</span>

<span class="sd">    Args:</span>
<span class="sd">        include_shared (bool, optional): Whether to include shared/public datasets</span>
<span class="sd">            in addition to private ones. Defaults to False.</span>

<span class="sd">    Examples:</span>
<span class="sd">        ```bash</span>
<span class="sd">        # List only your private datasets</span>
<span class="sd">        focoos hub datasets</span>

<span class="sd">        # List both private and shared datasets</span>
<span class="sd">        focoos hub datasets --include-shared</span>
<span class="sd">        ```</span>

<span class="sd">        Output example:</span>
<span class="sd">        ```</span>
<span class="sd">        🔍 Found 3 dataset(s):</span>

<span class="sd">        📦 Dataset #1</span>
<span class="sd">           🏷️  Name: My Custom Dataset</span>
<span class="sd">           🔗 Reference: my-custom-dataset</span>
<span class="sd">           🎯 Task: object_detection</span>
<span class="sd">           📋 Layout: roboflow_coco</span>
<span class="sd">           📝 Description: Custom dataset for object detection</span>
<span class="sd">           🤖 Train Length: 1000</span>
<span class="sd">           🤖 Val Length: 200</span>
<span class="sd">           🤖 Size MB: 150.5</span>
<span class="sd">        ```</span>

<span class="sd">    Note:</span>
<span class="sd">        - This command requires an internet connection to access the Focoos Hub.</span>
<span class="sd">        - This command requires a Focoos API Key to be set in the environment variable `FOCOOS_API_KEY`.</span>
<span class="sd">        - Shared datasets may require appropriate permissions to access.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="s2">&quot;Listing datasets...&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">focoos_hub</span> <span class="o">=</span> <span class="n">FocoosHUB</span><span class="p">()</span>
        <span class="n">datasets</span> <span class="o">=</span> <span class="n">focoos_hub</span><span class="o">.</span><span class="n">list_remote_datasets</span><span class="p">(</span><span class="n">include_shared</span><span class="o">=</span><span class="n">include_shared</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">datasets</span><span class="p">:</span>
            <span class="n">dataset_type</span> <span class="o">=</span> <span class="s2">&quot;shared and private&quot;</span> <span class="k">if</span> <span class="n">include_shared</span> <span class="k">else</span> <span class="s2">&quot;private&quot;</span>
            <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ No </span><span class="si">{</span><span class="n">dataset_type</span><span class="si">}</span><span class="s2"> datasets found.&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="n">dataset_type_desc</span> <span class="o">=</span> <span class="s2">&quot;shared and private&quot;</span> <span class="k">if</span> <span class="n">include_shared</span> <span class="k">else</span> <span class="s2">&quot;private&quot;</span>
        <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🔍 Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">datasets</span><span class="p">)</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">dataset_type_desc</span><span class="si">}</span><span class="s2"> dataset(s):</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">dataset</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">datasets</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📦 Dataset #</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   🏷️  Name: </span><span class="si">{</span><span class="n">dataset</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   🔗 Reference: </span><span class="si">{</span><span class="n">dataset</span><span class="o">.</span><span class="n">ref</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   🎯 Task: </span><span class="si">{</span><span class="n">dataset</span><span class="o">.</span><span class="n">task</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   📋 Layout: </span><span class="si">{</span><span class="n">dataset</span><span class="o">.</span><span class="n">layout</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   📝 Description: </span><span class="si">{</span><span class="n">dataset</span><span class="o">.</span><span class="n">description</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">dataset</span><span class="o">.</span><span class="n">spec</span><span class="p">:</span>
                <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   📊 Train Length: </span><span class="si">{</span><span class="n">dataset</span><span class="o">.</span><span class="n">spec</span><span class="o">.</span><span class="n">train_length</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   📊 Val Length: </span><span class="si">{</span><span class="n">dataset</span><span class="o">.</span><span class="n">spec</span><span class="o">.</span><span class="n">valid_length</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   📊 Size MB: </span><span class="si">{</span><span class="n">dataset</span><span class="o">.</span><span class="n">spec</span><span class="o">.</span><span class="n">size_mb</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">datasets</span><span class="p">):</span>
                <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="s2">&quot;   &quot;</span> <span class="o">+</span> <span class="s2">&quot;─&quot;</span> <span class="o">*</span> <span class="mi">50</span><span class="p">)</span>
                <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Failed to list datasets: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">typer</span><span class="o">.</span><span class="n">Exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="focoos.cli.commands.hub.download" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">download</span><span class="p">(</span><span class="n">ref</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#focoos.cli.commands.hub.download" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">

        <p>Download a dataset from the Focoos Hub.</p>
<p>Downloads a dataset from the Focoos Hub to a specified local path.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>ref</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The reference ID of the dataset to download</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to download the dataset to</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># Download a dataset to a specific path</span>
focoos<span class="w"> </span>hub<span class="w"> </span>dataset<span class="w"> </span>download<span class="w"> </span>--ref<span class="w"> </span>my-dataset-ref<span class="w"> </span>--path<span class="w"> </span>./data
</code></pre></div></td></tr></table></div>


<details class="notes" open>
  <summary>Notes</summary>
  <ul>
<li>This command requires an internet connection to access the Focoos Hub.</li>
<li>This command requires a Focoos API Key to be set in the environment variable <code>FOCOOS_API_KEY</code>.</li>
</ul>
</details>

            <details class="quote">
              <summary>Source code in <code>focoos/cli/commands/hub.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataset_app</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">download</span><span class="p">(</span>
    <span class="n">ref</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;The reference ID of the dataset to download&quot;</span><span class="p">)],</span>
    <span class="n">path</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&quot;Path to download the dataset to&quot;</span><span class="p">)]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Download a dataset from the Focoos Hub.</span>

<span class="sd">    Downloads a dataset from the Focoos Hub to a specified local path.</span>

<span class="sd">    Args:</span>
<span class="sd">        ref (str): The reference ID of the dataset to download</span>
<span class="sd">        path (str): Path to download the dataset to</span>

<span class="sd">    Examples:</span>
<span class="sd">        ```bash</span>
<span class="sd">        # Download a dataset to a specific path</span>
<span class="sd">        focoos hub dataset download --ref my-dataset-ref --path ./data</span>
<span class="sd">        ```</span>

<span class="sd">    Notes:</span>
<span class="sd">        - This command requires an internet connection to access the Focoos Hub.</span>
<span class="sd">        - This command requires a Focoos API Key to be set in the environment variable `FOCOOS_API_KEY`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Downloading dataset from </span><span class="si">{</span><span class="n">ref</span><span class="si">}</span><span class="s2"> to </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">focoos_hub</span> <span class="o">=</span> <span class="n">FocoosHUB</span><span class="p">()</span>
        <span class="n">dataset</span> <span class="o">=</span> <span class="n">focoos_hub</span><span class="o">.</span><span class="n">get_remote_dataset</span><span class="p">(</span><span class="n">ref</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">path</span><span class="p">:</span>
            <span class="n">dataset</span><span class="o">.</span><span class="n">download_data</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">dataset</span><span class="o">.</span><span class="n">download_data</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Failed to download dataset: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">typer</span><span class="o">.</span><span class="n">Exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="focoos.cli.commands.hub.main" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">main</span><span class="p">()</span></code>

<a href="#focoos.cli.commands.hub.main" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">

        <p>Hub commands for interacting with the Focoos Hub.</p>
<p>The Focoos Hub provides access to pretrained models and datasets.
Use subcommands to list and discover available resources.</p>
<p>Available subcommands:
- <code>models</code>: List the available user models
- <code>datasets</code>: List the available user datasets (private and optionally shared)
- <code>dataset</code>: Dataset operations (download, upload)</p>


<details class="notes" open>
  <summary>Notes</summary>
  <ul>
<li>This command requires an internet connection to access the Focoos Hub.</li>
<li>This command requires a Focoos API Key to be set in the environment variable <code>FOCOOS_API_KEY</code>.</li>
</ul>
</details>        <p>Examples:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span></pre></div></td><td class="code"><div><pre><span></span><code># List all available models
focoos hub models

# List your datasets
focoos hub datasets

# List datasets including shared ones
focoos hub datasets --include-shared

# Download a dataset
focoos hub dataset download --ref my-dataset --path ./data

# Upload a dataset
focoos hub dataset upload --ref my-dataset --path ./data.zip
</code></pre></div></td></tr></table></div>


            <details class="quote">
              <summary>Source code in <code>focoos/cli/commands/hub.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">callback</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Hub commands for interacting with the Focoos Hub.</span>

<span class="sd">    The Focoos Hub provides access to pretrained models and datasets.</span>
<span class="sd">    Use subcommands to list and discover available resources.</span>

<span class="sd">    Available subcommands:</span>
<span class="sd">    - `models`: List the available user models</span>
<span class="sd">    - `datasets`: List the available user datasets (private and optionally shared)</span>
<span class="sd">    - `dataset`: Dataset operations (download, upload)</span>

<span class="sd">    Notes:</span>
<span class="sd">        - This command requires an internet connection to access the Focoos Hub.</span>
<span class="sd">        - This command requires a Focoos API Key to be set in the environment variable `FOCOOS_API_KEY`.</span>

<span class="sd">    Examples:</span>

<span class="sd">        # List all available models</span>
<span class="sd">        focoos hub models</span>

<span class="sd">        # List your datasets</span>
<span class="sd">        focoos hub datasets</span>

<span class="sd">        # List datasets including shared ones</span>
<span class="sd">        focoos hub datasets --include-shared</span>

<span class="sd">        # Download a dataset</span>
<span class="sd">        focoos hub dataset download --ref my-dataset --path ./data</span>

<span class="sd">        # Upload a dataset</span>
<span class="sd">        focoos hub dataset upload --ref my-dataset --path ./data.zip</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="focoos.cli.commands.hub.models" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">models</span><span class="p">()</span></code>

<a href="#focoos.cli.commands.hub.models" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">

        <p>List all available pretrained models from the Focoos Hub.</p>
<p>Retrieves and displays a comprehensive list of all pretrained models
available on the Focoos Hub. For each model, shows detailed information
including name, reference, task type, description, status, and model type.</p>
<p>The displayed information includes:
- <strong>Name</strong>: Human-readable model name
- <strong>Reference</strong>: Unique model identifier for CLI usage
- <strong>Task</strong>: Computer vision task (detection, segmentation, classification)
- <strong>Description</strong>: Detailed model description and capabilities
- <strong>Status</strong>: Model availability status
- <strong>Focoos Model</strong>: Model architecture/family information</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># List all available models</span>
focoos<span class="w"> </span>hub<span class="w"> </span>models
</code></pre></div></td></tr></table></div>
<p>Output example:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code>🔍 Found 12 model(s):

📦 Model #1
   🏷️  Name: FAI DETR Medium COCO
   🔗 Reference: fai-detr-m-coco
   🎯 Task: object_detection
   📝 Description: Medium-sized DETR model trained on COCO dataset
   ⚡ Status: ready
   🤖 Focoos Model: fai_detr
</code></pre></div></td></tr></table></div></p>


<details class="note" open>
  <summary>Note</summary>
  <ul>
<li>This command requires an internet connection to access the Focoos Hub.</li>
<li>This command requires a Focoos API Key to be set in the environment variable <code>FOCOOS_API_KEY</code>.</li>
</ul>
</details>

            <details class="quote">
              <summary>Source code in <code>focoos/cli/commands/hub.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">models</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all available pretrained models from the Focoos Hub.</span>

<span class="sd">    Retrieves and displays a comprehensive list of all pretrained models</span>
<span class="sd">    available on the Focoos Hub. For each model, shows detailed information</span>
<span class="sd">    including name, reference, task type, description, status, and model type.</span>

<span class="sd">    The displayed information includes:</span>
<span class="sd">    - **Name**: Human-readable model name</span>
<span class="sd">    - **Reference**: Unique model identifier for CLI usage</span>
<span class="sd">    - **Task**: Computer vision task (detection, segmentation, classification)</span>
<span class="sd">    - **Description**: Detailed model description and capabilities</span>
<span class="sd">    - **Status**: Model availability status</span>
<span class="sd">    - **Focoos Model**: Model architecture/family information</span>

<span class="sd">    Examples:</span>
<span class="sd">        ```bash</span>
<span class="sd">        # List all available models</span>
<span class="sd">        focoos hub models</span>
<span class="sd">        ```</span>

<span class="sd">        Output example:</span>
<span class="sd">        ```</span>
<span class="sd">        🔍 Found 12 model(s):</span>

<span class="sd">        📦 Model #1</span>
<span class="sd">           🏷️  Name: FAI DETR Medium COCO</span>
<span class="sd">           🔗 Reference: fai-detr-m-coco</span>
<span class="sd">           🎯 Task: object_detection</span>
<span class="sd">           📝 Description: Medium-sized DETR model trained on COCO dataset</span>
<span class="sd">           ⚡ Status: ready</span>
<span class="sd">           🤖 Focoos Model: fai_detr</span>
<span class="sd">        ```</span>

<span class="sd">    Note:</span>
<span class="sd">        - This command requires an internet connection to access the Focoos Hub.</span>
<span class="sd">        - This command requires a Focoos API Key to be set in the environment variable `FOCOOS_API_KEY`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="s2">&quot;Listing models...&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">focoos_hub</span> <span class="o">=</span> <span class="n">FocoosHUB</span><span class="p">()</span>
        <span class="n">models</span> <span class="o">=</span> <span class="n">focoos_hub</span><span class="o">.</span><span class="n">list_remote_models</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">models</span><span class="p">:</span>
            <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="s2">&quot;❌ No models found.&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🔍 Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">models</span><span class="p">)</span><span class="si">}</span><span class="s2"> model(s):</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">model</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">models</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📦 Model #</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   🏷️  Name: </span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   🔗 Reference: </span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">ref</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   🎯 Task: </span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">task</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   📝 Description: </span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">description</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   ⚡ Status: </span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">status</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   🤖 Focoos Model: </span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">focoos_model</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">models</span><span class="p">):</span>
                <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="s2">&quot;   &quot;</span> <span class="o">+</span> <span class="s2">&quot;─&quot;</span> <span class="o">*</span> <span class="mi">50</span><span class="p">)</span>
                <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Failed to list models: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">typer</span><span class="o">.</span><span class="n">Exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="focoos.cli.commands.hub.upload" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">upload</span><span class="p">(</span><span class="n">ref</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>

<a href="#focoos.cli.commands.hub.upload" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">

        <p>Upload a dataset to the Focoos Hub (You must first create a dataset on the Focoos hub).</p>
<p>Uploads a dataset to the Focoos Hub from a specified local path.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>ref</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The reference ID of the dataset to upload</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to upload the dataset from</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># Upload a dataset from a specific path</span>
focoos<span class="w"> </span>hub<span class="w"> </span>dataset<span class="w"> </span>upload<span class="w"> </span>--ref<span class="w"> </span>my-dataset-ref<span class="w"> </span>--path<span class="w"> </span>./data.zip
</code></pre></div></td></tr></table></div>
        <p>For more information on how the dataset should be structured look at the <a href="../ports/#focoos.ports.DatasetLayout"><code>documentation</code></a>.</p>


<details class="notes" open>
  <summary>Notes</summary>
  <ul>
<li>This command requires an internet connection to access the Focoos Hub.</li>
<li>This command requires a Focoos API Key to be set in the environment variable <code>FOCOOS_API_KEY</code>.</li>
<li>You must first create a dataset on the Focoos hub.</li>
</ul>
</details>

            <details class="quote">
              <summary>Source code in <code>focoos/cli/commands/hub.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataset_app</span><span class="o">.</span><span class="n">command</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">upload</span><span class="p">(</span>
    <span class="n">ref</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;The reference ID of the dataset to upload&quot;</span><span class="p">)],</span>
    <span class="n">path</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typer</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Path to upload the dataset from&quot;</span><span class="p">)],</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Upload a dataset to the Focoos Hub (You must first create a dataset on the Focoos hub).</span>

<span class="sd">    Uploads a dataset to the Focoos Hub from a specified local path.</span>

<span class="sd">    Args:</span>
<span class="sd">        ref (str): The reference ID of the dataset to upload</span>
<span class="sd">        path (str): Path to upload the dataset from</span>

<span class="sd">    Examples:</span>
<span class="sd">        ```bash</span>
<span class="sd">        # Upload a dataset from a specific path</span>
<span class="sd">        focoos hub dataset upload --ref my-dataset-ref --path ./data.zip</span>
<span class="sd">        ```</span>

<span class="sd">    For more information on how the dataset should be structured look at the [`documentation`](../api/ports.md#focoos.ports.DatasetLayout).</span>

<span class="sd">    Notes:</span>
<span class="sd">        - This command requires an internet connection to access the Focoos Hub.</span>
<span class="sd">        - This command requires a Focoos API Key to be set in the environment variable `FOCOOS_API_KEY`.</span>
<span class="sd">        - You must first create a dataset on the Focoos hub.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Uploading dataset from </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2"> to </span><span class="si">{</span><span class="n">ref</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">focoos_hub</span> <span class="o">=</span> <span class="n">FocoosHUB</span><span class="p">()</span>
        <span class="n">dataset</span> <span class="o">=</span> <span class="n">focoos_hub</span><span class="o">.</span><span class="n">get_remote_dataset</span><span class="p">(</span><span class="n">ref</span><span class="p">)</span>
        <span class="n">spec</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">upload_data</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="n">dataset_info</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">get_info</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">spec</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Failed to upload dataset.&quot;</span><span class="p">)</span>
        <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="s2">&quot;✅ Dataset uploaded successfully!&quot;</span><span class="p">)</span>
        <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   🏷️  Name: </span><span class="si">{</span><span class="n">dataset_info</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   🔗 Reference: </span><span class="si">{</span><span class="n">dataset_info</span><span class="o">.</span><span class="n">ref</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   🎯 Task: </span><span class="si">{</span><span class="n">dataset_info</span><span class="o">.</span><span class="n">task</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   📋 Layout: </span><span class="si">{</span><span class="n">dataset_info</span><span class="o">.</span><span class="n">layout</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   📝 Description: </span><span class="si">{</span><span class="n">dataset_info</span><span class="o">.</span><span class="n">description</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   📊 Train Length: </span><span class="si">{</span><span class="n">spec</span><span class="o">.</span><span class="n">train_length</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   📊 Val Length: </span><span class="si">{</span><span class="n">spec</span><span class="o">.</span><span class="n">valid_length</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   📊 Size MB: </span><span class="si">{</span><span class="n">spec</span><span class="o">.</span><span class="n">size_mb</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">typer</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Failed to upload dataset: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">typer</span><span class="o">.</span><span class="n">Exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>









  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 FocoosAI
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/FocoosAI/focoos" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/company/focoosai" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "navigation.tabs", "navigation.tabs.sticky"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
    
  </body>
</html>